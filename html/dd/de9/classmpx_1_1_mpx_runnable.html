<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MPX: mpx::MpxRunnable Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPX
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Event Driven Task Multiplexing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d67/namespacempx.html">mpx</a></li><li class="navelem"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html">MpxRunnable</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../da/dc4/classmpx_1_1_mpx_runnable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mpx::MpxRunnable Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>class representing single thread of execution  
 <a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mpx::MpxRunnable:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d22/classmpx_1_1_mpx_runnable__inherit__graph.png" border="0" usemap="#mpx_1_1_mpx_runnable_inherit__map" alt="Inheritance graph"/></div>
<map name="mpx_1_1_mpx_runnable_inherit__map" id="mpx_1_1_mpx_runnable_inherit__map">
<area shape="rect" id="node2" href="../../da/dd3/classmpx_1_1_mpx_task_multiplexer.html" title="mpx::MpxTaskMultiplexer" alt="" coords="5,80,177,107"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65224aa79ffe2de53cb79601c09c7218"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a65224aa79ffe2de53cb79601c09c7218">MpxRunnable</a> (void)</td></tr>
<tr class="memdesc:a65224aa79ffe2de53cb79601c09c7218"><td class="mdescLeft">&#160;</td><td class="mdescRight">instance initialization  <a href="#a65224aa79ffe2de53cb79601c09c7218">More...</a><br /></td></tr>
<tr class="separator:a65224aa79ffe2de53cb79601c09c7218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21858f2315236ee4e36b9351193216a9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a21858f2315236ee4e36b9351193216a9">~MpxRunnable</a> (void)</td></tr>
<tr class="memdesc:a21858f2315236ee4e36b9351193216a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete an instance of this object  <a href="#a21858f2315236ee4e36b9351193216a9">More...</a><br /></td></tr>
<tr class="separator:a21858f2315236ee4e36b9351193216a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4ef81d71e46d49fccadfdbdda81b02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#aec4ef81d71e46d49fccadfdbdda81b02">Start</a> (int flags=0)</td></tr>
<tr class="memdesc:aec4ef81d71e46d49fccadfdbdda81b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">start associated thread  <a href="#aec4ef81d71e46d49fccadfdbdda81b02">More...</a><br /></td></tr>
<tr class="separator:aec4ef81d71e46d49fccadfdbdda81b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91cd5b243678a503370ae1bc8a53110d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a91cd5b243678a503370ae1bc8a53110d">WaitForCompletion</a> (int timeOut=-1)</td></tr>
<tr class="memdesc:a91cd5b243678a503370ae1bc8a53110d"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait associated thread to terminate  <a href="#a91cd5b243678a503370ae1bc8a53110d">More...</a><br /></td></tr>
<tr class="separator:a91cd5b243678a503370ae1bc8a53110d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f6105a901e108f2f8154e41f83dbf0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a38f6105a901e108f2f8154e41f83dbf0">Suspend</a> (void)</td></tr>
<tr class="memdesc:a38f6105a901e108f2f8154e41f83dbf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">suspend associated thread  <a href="#a38f6105a901e108f2f8154e41f83dbf0">More...</a><br /></td></tr>
<tr class="separator:a38f6105a901e108f2f8154e41f83dbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a176e06efb88df110648fa863c17ef3fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a176e06efb88df110648fa863c17ef3fc">Resume</a> (void)</td></tr>
<tr class="memdesc:a176e06efb88df110648fa863c17ef3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">resume suspended thread  <a href="#a176e06efb88df110648fa863c17ef3fc">More...</a><br /></td></tr>
<tr class="separator:a176e06efb88df110648fa863c17ef3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07c39a57a031b01f1adad23eb1622d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac07c39a57a031b01f1adad23eb1622d8">Terminate</a> (int timeOut=-1)</td></tr>
<tr class="memdesc:ac07c39a57a031b01f1adad23eb1622d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancel execution of thread  <a href="#ac07c39a57a031b01f1adad23eb1622d8">More...</a><br /></td></tr>
<tr class="separator:ac07c39a57a031b01f1adad23eb1622d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f39d4696417987765207395623d1fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#aa5f39d4696417987765207395623d1fc">Abort</a> (int code)</td></tr>
<tr class="memdesc:aa5f39d4696417987765207395623d1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">abort thread execution  <a href="#aa5f39d4696417987765207395623d1fc">More...</a><br /></td></tr>
<tr class="separator:aa5f39d4696417987765207395623d1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5feb0b9a72410a55010c50dc9086649"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649">Run</a> (void)=0</td></tr>
<tr class="memdesc:ad5feb0b9a72410a55010c50dc9086649"><td class="mdescLeft">&#160;</td><td class="mdescRight">thread running loop this function is the only function of this interface which must be implemented by derived class. This function implements the running logic of associated program thread although this is not the base function of associated thread. The actual base function of associated thread is _Run(). But nevertheless, function <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a> must be implemented as if it is the base function of associated thread. Normally it executes an infinite loop, executing some job, but always prepared to terminate immediately after any iteration or even in the middle of the job, especially when executing lengthy jobs  <a href="#ad5feb0b9a72410a55010c50dc9086649">More...</a><br /></td></tr>
<tr class="separator:ad5feb0b9a72410a55010c50dc9086649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1ba8644c69e282fb85da094bbcc39b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a2c1ba8644c69e282fb85da094bbcc39b">InitInstance</a> (void)</td></tr>
<tr class="memdesc:a2c1ba8644c69e282fb85da094bbcc39b"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize subclass prior to running thread  <a href="#a2c1ba8644c69e282fb85da094bbcc39b">More...</a><br /></td></tr>
<tr class="separator:a2c1ba8644c69e282fb85da094bbcc39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dae07c4b3dceebf212ce016060ef171"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a7dae07c4b3dceebf212ce016060ef171">ExitInstance</a> (void)</td></tr>
<tr class="memdesc:a7dae07c4b3dceebf212ce016060ef171"><td class="mdescLeft">&#160;</td><td class="mdescRight">function called when associated thread terminates  <a href="#a7dae07c4b3dceebf212ce016060ef171">More...</a><br /></td></tr>
<tr class="separator:a7dae07c4b3dceebf212ce016060ef171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef22c79449c497c6fc5c559e697378a"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#adef22c79449c497c6fc5c559e697378a">getTid</a> (void)</td></tr>
<tr class="memdesc:adef22c79449c497c6fc5c559e697378a"><td class="mdescLeft">&#160;</td><td class="mdescRight">get task ID  <a href="#adef22c79449c497c6fc5c559e697378a">More...</a><br /></td></tr>
<tr class="separator:adef22c79449c497c6fc5c559e697378a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2147938e192c817e54f4d5424a8a080e"><td class="memItemLeft" align="right" valign="top">pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a2147938e192c817e54f4d5424a8a080e">getHandle</a> (void)</td></tr>
<tr class="memdesc:a2147938e192c817e54f4d5424a8a080e"><td class="mdescLeft">&#160;</td><td class="mdescRight">get thread handle  <a href="#a2147938e192c817e54f4d5424a8a080e">More...</a><br /></td></tr>
<tr class="separator:a2147938e192c817e54f4d5424a8a080e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da7028f6f8f498e0b9a98bd4a028495"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a3da7028f6f8f498e0b9a98bd4a028495">getExitCode</a> (void)</td></tr>
<tr class="memdesc:a3da7028f6f8f498e0b9a98bd4a028495"><td class="mdescLeft">&#160;</td><td class="mdescRight">get exit code of associated thread  <a href="#a3da7028f6f8f498e0b9a98bd4a028495">More...</a><br /></td></tr>
<tr class="separator:a3da7028f6f8f498e0b9a98bd4a028495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ce861a9a64eab89bb219ed03480522"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">Lock</a> ()</td></tr>
<tr class="memdesc:ac3ce861a9a64eab89bb219ed03480522"><td class="mdescLeft">&#160;</td><td class="mdescRight">lock mutex  <a href="#ac3ce861a9a64eab89bb219ed03480522">More...</a><br /></td></tr>
<tr class="separator:ac3ce861a9a64eab89bb219ed03480522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1b71bd11cba008343904bbe1ecbc5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ()</td></tr>
<tr class="memdesc:a6d1b71bd11cba008343904bbe1ecbc5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlock mutex  <a href="#a6d1b71bd11cba008343904bbe1ecbc5b">More...</a><br /></td></tr>
<tr class="separator:a6d1b71bd11cba008343904bbe1ecbc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class representing single thread of execution </p>
<p>Interface <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html" title="class representing single thread of execution ">MpxRunnable</a> defines and partially implements class, which is capable to run and control its own program thread. Every derived class must implement at least function <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a> of this interface. This function must implement the running logic of program thread. Other virtual functions should not be implemented by derived class, thus doing nothing </p>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00044">44</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a65224aa79ffe2de53cb79601c09c7218"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpx::MpxRunnable::MpxRunnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>instance initialization </p>
<p>initialize (clear) members. mutex p_mutex is set to be recursive, recursive locking from same thread will not block </p>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00053">53</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        pthread_mutexattr_t attr;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        pthread_mutexattr_init (&amp;attr);</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        pthread_mutexattr_settype (&amp;attr, PTHREAD_MUTEX_RECURSIVE);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        pthread_mutex_init (&amp;m_mutex, &amp;attr);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        m_threadId = 0;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        m_handle = (pthread_t) 0;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        m_exitCode = -1;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21858f2315236ee4e36b9351193216a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual mpx::MpxRunnable::~MpxRunnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>delete an instance of this object </p>
<p>deleting this object when associated thread is still running is not recommended. Thread should be stopped, awaited and only after then deleted </p>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00072">72</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        pthread_mutex_destroy (&amp;m_mutex);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa5f39d4696417987765207395623d1fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Abort </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>abort thread execution </p>
<p>function terminates execution of program thread associated with this object instance immediately. If it is terminated normally it returns forced code, otherwise it returns error code returned by thread</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>thread exit code forced by the calling thread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>code forced exit code </dd>
<dd>
other unsuccessful termination of associated thread </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00264">264</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordtype">int</span> hRes;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">return</span> ((hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac07c39a57a031b01f1adad23eb1622d8">Terminate</a> ()) != 0) ? hRes : (m_exitCode = code);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    }</div><div class="ttc" id="classmpx_1_1_mpx_runnable_html_ac07c39a57a031b01f1adad23eb1622d8"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac07c39a57a031b01f1adad23eb1622d8">mpx::MpxRunnable::Terminate</a></div><div class="ttdeci">int Terminate(int timeOut=-1)</div><div class="ttdoc">cancel execution of thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00229">MpxRunnable.h:229</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7dae07c4b3dceebf212ce016060ef171"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int mpx::MpxRunnable::ExitInstance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>function called when associated thread terminates </p>
<p>This function is provided to finish the execution of associated thread. It is called immediately after <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a> terminates in the context of associated thread. Default implementation does nothing. This function gives to program the last chance to perform some actions which should be done when associated thread terminates</p>
<dl class="section return"><dt>Returns</dt><dd>code Default implementation of this function returns return code of <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a>. If it is implemented by derived class it can return any integer value </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00331">331</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span> m_exitCode;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3da7028f6f8f498e0b9a98bd4a028495"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::getExitCode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get exit code of associated thread </p>
<dl class="section return"><dt>Returns</dt><dd>-1 associated thread is still running </dd>
<dd>
other return code of associated thread </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00443">443</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    {</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">return</span> m_exitCode;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2147938e192c817e54f4d5424a8a080e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t mpx::MpxRunnable::getHandle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get thread handle </p>
<dl class="section return"><dt>Returns</dt><dd>NULL associated thread does not exist </dd>
<dd>
handle thread handle as returned from pthread_create() </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00432">432</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">return</span> m_handle;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adef22c79449c497c6fc5c559e697378a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pid_t mpx::MpxRunnable::getTid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get task ID </p>
<dl class="section return"><dt>Returns</dt><dd>id task ID of associated thread </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00421">421</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">return</span> m_threadId;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c1ba8644c69e282fb85da094bbcc39b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int mpx::MpxRunnable::InitInstance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initialize subclass prior to running thread </p>
<p>Default implementation of this function does nothing and returns 0, thus telling to the calling environment that associated thread can be created and executed. If it is implemented by derived class we must obey these facts:</p><ul>
<li>this function is supposed to initialize some resources used by associated thread</li>
<li>return code of this function is used to determine if associated thread will be created at all. Returning 0 signals the calling environment to proceed with thread creation and execution. Other return values signal to the calling environment that the normal thread creation sequence must be terminated with error code returned by this function</li>
<li>function is not running in the context of associated thread since it has not been created yet. Initialization which depends on the context of the associated thread should be performed from <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a> or some function called within it.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>0 successful initialization. Associated program thread will be created and executed </dd>
<dd>
other initialization fault. Associated thread will not be created and thus not executed </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00313">313</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac3ce861a9a64eab89bb219ed03480522"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>lock mutex </p>
<p>function locks mutex m_mutex. If it is already locked by another thread, this function will block until it will be unlocked by owning thread. Function should be used to synchronize access to resources common to many threads</p>
<dl class="section return"><dt>Returns</dt><dd>0 associated thread is locked </dd>
<dd>
other error code returned by pthread_mutex_lock() </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00459">459</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">while</span> ((ret = pthread_mutex_lock (&amp;m_mutex)) != 0)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="keywordflow">if</span> (errno != EINTR)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a176e06efb88df110648fa863c17ef3fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Resume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>resume suspended thread </p>
<p>function tries to resume execution of program thread associated with this object</p>
<dl class="section return"><dt>Returns</dt><dd>0 thread execution is resumed </dd>
<dd>
other thread cannot be resumed </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00201">201</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordtype">int</span> hRes;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">switch</span> (hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">Lock</a> ())</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">if</span> (m_handle == (pthread_t) 0)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        hRes = pthread_kill (m_handle, SIGCONT);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div><div class="ttc" id="classmpx_1_1_mpx_runnable_html_a6d1b71bd11cba008343904bbe1ecbc5b"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">mpx::MpxRunnable::Unlock</a></div><div class="ttdeci">int Unlock()</div><div class="ttdoc">unlock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00478">MpxRunnable.h:478</a></div></div>
<div class="ttc" id="classmpx_1_1_mpx_runnable_html_ac3ce861a9a64eab89bb219ed03480522"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">mpx::MpxRunnable::Lock</a></div><div class="ttdeci">int Lock()</div><div class="ttdoc">lock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00459">MpxRunnable.h:459</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5feb0b9a72410a55010c50dc9086649"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int mpx::MpxRunnable::Run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>thread running loop this function is the only function of this interface which must be implemented by derived class. This function implements the running logic of associated program thread although this is not the base function of associated thread. The actual base function of associated thread is _Run(). But nevertheless, function <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a> must be implemented as if it is the base function of associated thread. Normally it executes an infinite loop, executing some job, but always prepared to terminate immediately after any iteration or even in the middle of the job, especially when executing lengthy jobs </p>
<dl class="section return"><dt>Returns</dt><dd>code return code of function <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a> implemented by derived class </dd></dl>

</div>
</div>
<a class="anchor" id="aec4ef81d71e46d49fccadfdbdda81b02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>start associated thread </p>
<p>function tries to create and start program thread associated with this instance. Before creating new thread it calls <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a2c1ba8644c69e282fb85da094bbcc39b" title="initialize subclass prior to running thread ">InitInstance()</a> giving to this object instance a chance to do an initialization step just prior to thread start. If <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a2c1ba8644c69e282fb85da094bbcc39b" title="initialize subclass prior to running thread ">InitInstance()</a> returns error code (everything but S_OK) program thread is not created. Object instance should be deleted immediately in this case. It should be noted that InitInstance is executed in the context of calling thread and not in the context of the newly created thread. If there are any entities concerning new thread which are 'context sensitive' it may be better to perform initialization step in the context of newly created thread from the function <a class="el" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ad5feb0b9a72410a55010c50dc9086649" title="thread running loop this function is the only function of this interface which must be implemented by...">Run()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>flags which are used (as is) in pthread_create(). Default value of this parameter is 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 program thread has been created </dd>
<dd>
other thread creation error, or error returned by InitInstance () </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00099">99</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordtype">int</span> hRes;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">switch</span> (hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">Lock</a> ())</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> (m_handle != (pthread_t) 0)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            perror (<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        }</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> ((hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a2c1ba8644c69e282fb85da094bbcc39b">InitInstance</a> ()) != 0)</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        pthread_attr_t attr;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        pthread_attr_init (&amp;attr);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        pthread_attr_setdetachstate (&amp;attr, PTHREAD_CREATE_JOINABLE);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        hRes = pthread_create (&amp;m_handle, &amp;attr, _Run, (<span class="keywordtype">void</span>*) <span class="keyword">this</span>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div><div class="ttc" id="classmpx_1_1_mpx_runnable_html_a2c1ba8644c69e282fb85da094bbcc39b"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a2c1ba8644c69e282fb85da094bbcc39b">mpx::MpxRunnable::InitInstance</a></div><div class="ttdeci">virtual int InitInstance(void)</div><div class="ttdoc">initialize subclass prior to running thread </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00313">MpxRunnable.h:313</a></div></div>
<div class="ttc" id="classmpx_1_1_mpx_runnable_html_a6d1b71bd11cba008343904bbe1ecbc5b"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">mpx::MpxRunnable::Unlock</a></div><div class="ttdeci">int Unlock()</div><div class="ttdoc">unlock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00478">MpxRunnable.h:478</a></div></div>
<div class="ttc" id="classmpx_1_1_mpx_runnable_html_ac3ce861a9a64eab89bb219ed03480522"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">mpx::MpxRunnable::Lock</a></div><div class="ttdeci">int Lock()</div><div class="ttdoc">lock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00459">MpxRunnable.h:459</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38f6105a901e108f2f8154e41f83dbf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Suspend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>suspend associated thread </p>
<p>function tries to suspend program thread associated with this object</p>
<dl class="section return"><dt>Returns</dt><dd>0 thread is suspended </dd>
<dd>
other thread cannot be suspended </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00171">171</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordtype">int</span> hRes;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">switch</span> (hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">Lock</a> ())</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">if</span> (m_handle == (pthread_t) 0)</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        hRes = pthread_kill (m_handle, SIGSTOP);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div><div class="ttc" id="classmpx_1_1_mpx_runnable_html_a6d1b71bd11cba008343904bbe1ecbc5b"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">mpx::MpxRunnable::Unlock</a></div><div class="ttdeci">int Unlock()</div><div class="ttdoc">unlock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00478">MpxRunnable.h:478</a></div></div>
<div class="ttc" id="classmpx_1_1_mpx_runnable_html_ac3ce861a9a64eab89bb219ed03480522"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">mpx::MpxRunnable::Lock</a></div><div class="ttdeci">int Lock()</div><div class="ttdoc">lock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00459">MpxRunnable.h:459</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac07c39a57a031b01f1adad23eb1622d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Terminate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeOut</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>cancel execution of thread </p>
<p>function cancels thread execution and wait it to terminate</p>
<dl class="section return"><dt>Returns</dt><dd>code exit code of terminated thread </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00229">229</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordtype">int</span> hRes;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">switch</span> (hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">Lock</a> ())</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">if</span> (m_handle == (pthread_t) 0)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        }</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <span class="keywordflow">if</span> (((hRes = pthread_cancel (m_handle)) != 0) &amp;&amp; ((hRes = pthread_join (m_handle, NULL)) != 0))</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordflow">return</span> m_exitCode;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    }</div><div class="ttc" id="classmpx_1_1_mpx_runnable_html_a6d1b71bd11cba008343904bbe1ecbc5b"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">mpx::MpxRunnable::Unlock</a></div><div class="ttdeci">int Unlock()</div><div class="ttdoc">unlock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00478">MpxRunnable.h:478</a></div></div>
<div class="ttc" id="classmpx_1_1_mpx_runnable_html_ac3ce861a9a64eab89bb219ed03480522"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">mpx::MpxRunnable::Lock</a></div><div class="ttdeci">int Lock()</div><div class="ttdoc">lock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00459">MpxRunnable.h:459</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d1b71bd11cba008343904bbe1ecbc5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::Unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>unlock mutex </p>
<p>function unlocks mutex m_mutex.</p>
<dl class="section return"><dt>Returns</dt><dd>0 associated thread is unlocked </dd>
<dd>
other error code returned by pthread_mutex_unlock() </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00478">478</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">while</span> ((ret = pthread_mutex_unlock (&amp;m_mutex)) != 0)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="keywordflow">if</span> (errno != EINTR)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a91cd5b243678a503370ae1bc8a53110d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunnable::WaitForCompletion </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeOut</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>wait associated thread to terminate </p>
<p>function waits until associated program thread terminates or until timeout expires, whichever comes first</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeOut</td><td>time to wait the associated thread to terminate. Default value is infinite, thus until program thread terminates</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 program thread has not terminated </dd>
<dd>
other exit code of associated thread </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html#l00141">141</a> of file <a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordtype">int</span> hRes;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">switch</span> (hRes = <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">Lock</a> ())</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">case</span> 0:</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (m_handle == (pthread_t) 0)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">Unlock</a> ();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">if</span> ((hRes = pthread_join (m_handle, NULL)) != 0)</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">return</span> hRes;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> m_exitCode;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div><div class="ttc" id="classmpx_1_1_mpx_runnable_html_a6d1b71bd11cba008343904bbe1ecbc5b"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#a6d1b71bd11cba008343904bbe1ecbc5b">mpx::MpxRunnable::Unlock</a></div><div class="ttdeci">int Unlock()</div><div class="ttdoc">unlock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00478">MpxRunnable.h:478</a></div></div>
<div class="ttc" id="classmpx_1_1_mpx_runnable_html_ac3ce861a9a64eab89bb219ed03480522"><div class="ttname"><a href="../../dd/de9/classmpx_1_1_mpx_runnable.html#ac3ce861a9a64eab89bb219ed03480522">mpx::MpxRunnable::Lock</a></div><div class="ttdeci">int Lock()</div><div class="ttdoc">lock mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd0/_mpx_runnable_8h_source.html#l00459">MpxRunnable.h:459</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mpx-lib/mpx-core/<a class="el" href="../../dc/dd0/_mpx_runnable_8h_source.html">MpxRunnable.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
