<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MPX: mpx::MpxRunningContext Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<a href="https://github.com/miranvodnik/mpx"> Return to gitHub project </a>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPX
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Event Driven Task Multiplexing Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d4/dc1/classmpx_1_1MpxRunningContext.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../dc/dc4/classmpx_1_1MpxRunningContext-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mpx::MpxRunningContext Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>I/O multiplexer superclass.  
 <a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for mpx::MpxRunningContext:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/db1/classmpx_1_1MpxRunningContext__coll__graph.png" border="0" usemap="#mpx_1_1MpxRunningContext_coll__map" alt="Collaboration graph"/></div>
<map name="mpx_1_1MpxRunningContext_coll__map" id="mpx_1_1MpxRunningContext_coll__map">
<area shape="rect" id="node3" href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html" title="I/O handler class. " alt="" coords="308,74,483,115"/>
<area shape="rect" id="node4" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html" title="signal handler " alt="" coords="308,242,483,283"/>
<area shape="rect" id="node6" href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html" title="timer class " alt="" coords="308,371,483,413"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html">MpxDescriptor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O handler class.  <a href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal handler  <a href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html">MpxTimer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer class  <a href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html">timecmp</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">compare two time-out values  <a href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aab0d7c200c138d421825185797a59ead"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aab0d7c200c138d421825185797a59ead">initfunc</a>) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:aab0d7c200c138d421825185797a59ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">prototype for starting function of I/O multiplexer  <a href="#aab0d7c200c138d421825185797a59ead">More...</a><br /></td></tr>
<tr class="separator:aab0d7c200c138d421825185797a59ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412ee60de1a8303592d3f0d8a915b5a8"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a412ee60de1a8303592d3f0d8a915b5a8">exitfunc</a>) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:a412ee60de1a8303592d3f0d8a915b5a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">prototype for end function of I/O multiplexer  <a href="#a412ee60de1a8303592d3f0d8a915b5a8">More...</a><br /></td></tr>
<tr class="separator:a412ee60de1a8303592d3f0d8a915b5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83db51c5fabe4d14ea70755edf36127e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a83db51c5fabe4d14ea70755edf36127e">timehookfunc</a>) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, struct timespec oldTime, struct timespec newTime, long long timeDiff, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:a83db51c5fabe4d14ea70755edf36127e"><td class="mdescLeft">&#160;</td><td class="mdescRight">prototype for time-hook function of I/O multiplexer  <a href="#a83db51c5fabe4d14ea70755edf36127e">More...</a><br /></td></tr>
<tr class="separator:a83db51c5fabe4d14ea70755edf36127e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a2ee430aae6ae753f629045bbc03e7"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a31a2ee430aae6ae753f629045bbc03e7">cbfunc</a>) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, unsigned int flags, <a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> handler, int n, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:a31a2ee430aae6ae753f629045bbc03e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O call-back function prototype.  <a href="#a31a2ee430aae6ae753f629045bbc03e7">More...</a><br /></td></tr>
<tr class="separator:a31a2ee430aae6ae753f629045bbc03e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828aa5ae79b025b083fbac771517ecf0"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a828aa5ae79b025b083fbac771517ecf0">tmrfunc</a>) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a> handler, struct timespec t, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:a828aa5ae79b025b083fbac771517ecf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer call-back function prototype  <a href="#a828aa5ae79b025b083fbac771517ecf0">More...</a><br /></td></tr>
<tr class="separator:a828aa5ae79b025b083fbac771517ecf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d37efc87f8cc0ef845223371a9b73f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a93d37efc87f8cc0ef845223371a9b73f">sigfunc</a>) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> handler, siginfo_t *info, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:a93d37efc87f8cc0ef845223371a9b73f"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal call-back function prototype  <a href="#a93d37efc87f8cc0ef845223371a9b73f">More...</a><br /></td></tr>
<tr class="separator:a93d37efc87f8cc0ef845223371a9b73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa3b50b634dc951aefa1857f4e9ba7d11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa3b50b634dc951aefa1857f4e9ba7d11">signext</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:aa3b50b634dc951aefa1857f4e9ba7d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">reference to next signal handler  <a href="#aa3b50b634dc951aefa1857f4e9ba7d11">More...</a><br /></td></tr>
<tr class="separator:aa3b50b634dc951aefa1857f4e9ba7d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a151311b7ac341f7d0ad16ac7de163"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7a151311b7ac341f7d0ad16ac7de163">siglink</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx, <a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a> *sig)</td></tr>
<tr class="memdesc:ac7a151311b7ac341f7d0ad16ac7de163"><td class="mdescLeft">&#160;</td><td class="mdescRight">link signal handler  <a href="#ac7a151311b7ac341f7d0ad16ac7de163">More...</a><br /></td></tr>
<tr class="separator:ac7a151311b7ac341f7d0ad16ac7de163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ecf9f83df48da0aa95a96f63601ff15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7ecf9f83df48da0aa95a96f63601ff15">sigctx</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:a7ecf9f83df48da0aa95a96f63601ff15"><td class="mdescLeft">&#160;</td><td class="mdescRight">reference to owning I/O multiplexer  <a href="#a7ecf9f83df48da0aa95a96f63601ff15">More...</a><br /></td></tr>
<tr class="separator:a7ecf9f83df48da0aa95a96f63601ff15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa072b62a434cb85478cd62feeb66c23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afa072b62a434cb85478cd62feeb66c23">sigsigno</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:afa072b62a434cb85478cd62feeb66c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal number of handler  <a href="#afa072b62a434cb85478cd62feeb66c23">More...</a><br /></td></tr>
<tr class="separator:afa072b62a434cb85478cd62feeb66c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0c5f46bb6758a226ebc9942cb90cf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a93d37efc87f8cc0ef845223371a9b73f">sigfunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4a0c5f46bb6758a226ebc9942cb90cf0">sigf</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:a4a0c5f46bb6758a226ebc9942cb90cf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">call-back function of signal handler  <a href="#a4a0c5f46bb6758a226ebc9942cb90cf0">More...</a><br /></td></tr>
<tr class="separator:a4a0c5f46bb6758a226ebc9942cb90cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c3bb7c388967381b4d78b19a3dfbb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a00c3bb7c388967381b4d78b19a3dfbb6">sigdata</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:a00c3bb7c388967381b4d78b19a3dfbb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">application data of signal handler  <a href="#a00c3bb7c388967381b4d78b19a3dfbb6">More...</a><br /></td></tr>
<tr class="separator:a00c3bb7c388967381b4d78b19a3dfbb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d31d34287bfee5c6c657756c582306"><td class="memItemLeft" align="right" valign="top">struct sigaction *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a27d31d34287bfee5c6c657756c582306">sigsigAction</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:a27d31d34287bfee5c6c657756c582306"><td class="mdescLeft">&#160;</td><td class="mdescRight">sigaction of current signal handler  <a href="#a27d31d34287bfee5c6c657756c582306">More...</a><br /></td></tr>
<tr class="separator:a27d31d34287bfee5c6c657756c582306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cc6d54eb5347113c104c29ee2792ae"><td class="memItemLeft" align="right" valign="top">struct sigaction *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a67cc6d54eb5347113c104c29ee2792ae">sigoldAction</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> ctx)</td></tr>
<tr class="memdesc:a67cc6d54eb5347113c104c29ee2792ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">sigaction of previous signal handler  <a href="#a67cc6d54eb5347113c104c29ee2792ae">More...</a><br /></td></tr>
<tr class="separator:a67cc6d54eb5347113c104c29ee2792ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940029c28b45799e083310bf5c24e270"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a940029c28b45799e083310bf5c24e270">MpxRunningContext</a> (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aab0d7c200c138d421825185797a59ead">initfunc</a> f, <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a412ee60de1a8303592d3f0d8a915b5a8">exitfunc</a> g, <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a83db51c5fabe4d14ea70755edf36127e">timehookfunc</a> h, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata, const char *name=0)</td></tr>
<tr class="separator:a940029c28b45799e083310bf5c24e270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327aea9c048f51d916bfdf4f1e7312be"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a327aea9c048f51d916bfdf4f1e7312be">~MpxRunningContext</a> ()</td></tr>
<tr class="memdesc:a327aea9c048f51d916bfdf4f1e7312be"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O multiplexer destructor.  <a href="#a327aea9c048f51d916bfdf4f1e7312be">More...</a><br /></td></tr>
<tr class="separator:a327aea9c048f51d916bfdf4f1e7312be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06aa613bac4bcdbf5466d19992510cb1"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a06aa613bac4bcdbf5466d19992510cb1">tid</a> ()</td></tr>
<tr class="separator:a06aa613bac4bcdbf5466d19992510cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508eed0385c670bf00ea75fb7672b22a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a508eed0385c670bf00ea75fb7672b22a">MainLoop</a> (void)</td></tr>
<tr class="memdesc:a508eed0385c670bf00ea75fb7672b22a"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O multiplexer main loop.  <a href="#a508eed0385c670bf00ea75fb7672b22a">More...</a><br /></td></tr>
<tr class="separator:a508eed0385c670bf00ea75fb7672b22a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7518abf4e81aaa5247092428ef260760"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7518abf4e81aaa5247092428ef260760">Quit</a> ()</td></tr>
<tr class="separator:a7518abf4e81aaa5247092428ef260760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d405e44a9fe509406a791ae78f27edc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a8d405e44a9fe509406a791ae78f27edc">RegisterDescriptor</a> (uint flags, int fd, <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a31a2ee430aae6ae753f629045bbc03e7">cbfunc</a> f, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata, const char *info=0)</td></tr>
<tr class="memdesc:a8d405e44a9fe509406a791ae78f27edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">register call-back function for file descriptor  <a href="#a8d405e44a9fe509406a791ae78f27edc">More...</a><br /></td></tr>
<tr class="separator:a8d405e44a9fe509406a791ae78f27edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b283a4e9920d42feb15e99f5ec340a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab8b283a4e9920d42feb15e99f5ec340a">ChangeDescriptorHandler</a> (<a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> des, <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a31a2ee430aae6ae753f629045bbc03e7">cbfunc</a> f)</td></tr>
<tr class="memdesc:ab8b283a4e9920d42feb15e99f5ec340a"><td class="mdescLeft">&#160;</td><td class="mdescRight">change I/O call-back function of I/O handler  <a href="#ab8b283a4e9920d42feb15e99f5ec340a">More...</a><br /></td></tr>
<tr class="separator:ab8b283a4e9920d42feb15e99f5ec340a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66aa8447be7e5bdec6e23ddf53e98be5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a66aa8447be7e5bdec6e23ddf53e98be5">ChangeDescriptorAppData</a> (<a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> des, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:a66aa8447be7e5bdec6e23ddf53e98be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">change application data reference of I/O handler  <a href="#a66aa8447be7e5bdec6e23ddf53e98be5">More...</a><br /></td></tr>
<tr class="separator:a66aa8447be7e5bdec6e23ddf53e98be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbde49a361573e5c48e508b6f4660db4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abbde49a361573e5c48e508b6f4660db4">EnableDescriptor</a> (<a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> hdlr, uint flags)</td></tr>
<tr class="memdesc:abbde49a361573e5c48e508b6f4660db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">enable I/O handler activity  <a href="#abbde49a361573e5c48e508b6f4660db4">More...</a><br /></td></tr>
<tr class="separator:abbde49a361573e5c48e508b6f4660db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fef22384a5dcf97176b2ecb1adfb6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a21fef22384a5dcf97176b2ecb1adfb6f">DisableDescriptor</a> (<a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> hdlr, uint flags)</td></tr>
<tr class="memdesc:a21fef22384a5dcf97176b2ecb1adfb6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">disable I/O handler activity  <a href="#a21fef22384a5dcf97176b2ecb1adfb6f">More...</a><br /></td></tr>
<tr class="separator:a21fef22384a5dcf97176b2ecb1adfb6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af352b88ea000067360907f56d9ac0d9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#af352b88ea000067360907f56d9ac0d9e">RemoveDescriptor</a> (<a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> hdlr)</td></tr>
<tr class="memdesc:af352b88ea000067360907f56d9ac0d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove I/O handler  <a href="#af352b88ea000067360907f56d9ac0d9e">More...</a><br /></td></tr>
<tr class="separator:af352b88ea000067360907f56d9ac0d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ea192b2e0438fecdfa344b554dffa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ae2ea192b2e0438fecdfa344b554dffa5">ReplyDescriptor</a> (<a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> hdlr, unsigned int flags, int fd)</td></tr>
<tr class="memdesc:ae2ea192b2e0438fecdfa344b554dffa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">invoke I/O handler outside of I/O multiplexer environment  <a href="#ae2ea192b2e0438fecdfa344b554dffa5">More...</a><br /></td></tr>
<tr class="separator:ae2ea192b2e0438fecdfa344b554dffa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af74b4fba0a66c07b58dde9121d43ae8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#af74b4fba0a66c07b58dde9121d43ae8b">RegisterTimer</a> (struct timespec <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a561266838a9809bfd9d6b8b1892723b1">timer</a>, <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a828aa5ae79b025b083fbac771517ecf0">tmrfunc</a> f, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata, const char *info=0)</td></tr>
<tr class="memdesc:af74b4fba0a66c07b58dde9121d43ae8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">register timer  <a href="#af74b4fba0a66c07b58dde9121d43ae8b">More...</a><br /></td></tr>
<tr class="separator:af74b4fba0a66c07b58dde9121d43ae8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89f2ef0b037a6f3fcb5a956f00b85ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac89f2ef0b037a6f3fcb5a956f00b85ff">EnableTimer</a> (<a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a> tmr)</td></tr>
<tr class="memdesc:ac89f2ef0b037a6f3fcb5a956f00b85ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">enable timer  <a href="#ac89f2ef0b037a6f3fcb5a956f00b85ff">More...</a><br /></td></tr>
<tr class="separator:ac89f2ef0b037a6f3fcb5a956f00b85ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9b0cc01996159495be00ea6d3b67ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a3f9b0cc01996159495be00ea6d3b67ea">DisableTimer</a> (<a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a> tmr)</td></tr>
<tr class="memdesc:a3f9b0cc01996159495be00ea6d3b67ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">disable timer  <a href="#a3f9b0cc01996159495be00ea6d3b67ea">More...</a><br /></td></tr>
<tr class="separator:a3f9b0cc01996159495be00ea6d3b67ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15525c8178bf648b8879bd10116bc93c"><td class="memItemLeft" align="right" valign="top">struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a15525c8178bf648b8879bd10116bc93c">realTime</a> (void)</td></tr>
<tr class="memdesc:a15525c8178bf648b8879bd10116bc93c"><td class="mdescLeft">&#160;</td><td class="mdescRight">real time stamp  <a href="#a15525c8178bf648b8879bd10116bc93c">More...</a><br /></td></tr>
<tr class="separator:a15525c8178bf648b8879bd10116bc93c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b93ce95ebaa2d66ce75ef4d40aa821"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa6b93ce95ebaa2d66ce75ef4d40aa821">RegisterSignal</a> (int sig, <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a93d37efc87f8cc0ef845223371a9b73f">sigfunc</a> f, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td></tr>
<tr class="memdesc:aa6b93ce95ebaa2d66ce75ef4d40aa821"><td class="mdescLeft">&#160;</td><td class="mdescRight">register signal handler  <a href="#aa6b93ce95ebaa2d66ce75ef4d40aa821">More...</a><br /></td></tr>
<tr class="separator:aa6b93ce95ebaa2d66ce75ef4d40aa821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270682ef44f8005b373b4e4910938d3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a270682ef44f8005b373b4e4910938d3e">RemoveSignal</a> (<a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> hdlr)</td></tr>
<tr class="memdesc:a270682ef44f8005b373b4e4910938d3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove signal handler from shared list  <a href="#a270682ef44f8005b373b4e4910938d3e">More...</a><br /></td></tr>
<tr class="separator:a270682ef44f8005b373b4e4910938d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c764f877ebb6a92a24b939bbbdcc75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a02c764f877ebb6a92a24b939bbbdcc75">stat</a> (const char *msg)</td></tr>
<tr class="separator:a02c764f877ebb6a92a24b939bbbdcc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d72e385324ce90da927bfc726de5ffc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4d72e385324ce90da927bfc726de5ffc">round</a> ()</td></tr>
<tr class="separator:a4d72e385324ce90da927bfc726de5ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561266838a9809bfd9d6b8b1892723b1"><td class="memItemLeft" align="right" valign="top">struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a561266838a9809bfd9d6b8b1892723b1">timer</a> ()</td></tr>
<tr class="separator:a561266838a9809bfd9d6b8b1892723b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a1da97ce0e1c1112db6f30524207fc2b9"><td class="memItemLeft" align="right" valign="top">typedef multimap&lt; int, <a class="el" href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html">MpxDescriptor</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1da97ce0e1c1112db6f30524207fc2b9">cbset</a></td></tr>
<tr class="memdesc:a1da97ce0e1c1112db6f30524207fc2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">type representing set of I/O handlers  <a href="#a1da97ce0e1c1112db6f30524207fc2b9">More...</a><br /></td></tr>
<tr class="separator:a1da97ce0e1c1112db6f30524207fc2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84720827a304b93e5ace02797599f1a"><td class="memItemLeft" align="right" valign="top">typedef vector&lt; <a class="el" href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html">MpxDescriptor</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ad84720827a304b93e5ace02797599f1a">cblist</a></td></tr>
<tr class="memdesc:ad84720827a304b93e5ace02797599f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">type representing list of prepared I/O handlers  <a href="#ad84720827a304b93e5ace02797599f1a">More...</a><br /></td></tr>
<tr class="separator:ad84720827a304b93e5ace02797599f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4360abc565331676597606827d2a124"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html">mpx::MpxRunningContext::timecmp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa4360abc565331676597606827d2a124">timecmp</a></td></tr>
<tr class="memdesc:aa4360abc565331676597606827d2a124"><td class="mdescLeft">&#160;</td><td class="mdescRight">compare two time-out values  <a href="#aa4360abc565331676597606827d2a124">More...</a><br /></td></tr>
<tr class="separator:aa4360abc565331676597606827d2a124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce14803b9959c4c15f59ac159663c38"><td class="memItemLeft" align="right" valign="top">typedef multimap&lt; struct timespec, <a class="el" href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html">MpxTimer</a> *, <a class="el" href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html">timecmp</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6ce14803b9959c4c15f59ac159663c38">tmrset</a></td></tr>
<tr class="memdesc:a6ce14803b9959c4c15f59ac159663c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">ordered set of timers  <a href="#a6ce14803b9959c4c15f59ac159663c38">More...</a><br /></td></tr>
<tr class="separator:a6ce14803b9959c4c15f59ac159663c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c44091e704d2f9ef68678b0b3b6f62"><td class="memItemLeft" align="right" valign="top">typedef vector&lt; <a class="el" href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html">MpxTimer</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a37c44091e704d2f9ef68678b0b3b6f62">tmrlist</a></td></tr>
<tr class="memdesc:a37c44091e704d2f9ef68678b0b3b6f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">unordered list of timers  <a href="#a37c44091e704d2f9ef68678b0b3b6f62">More...</a><br /></td></tr>
<tr class="separator:a37c44091e704d2f9ef68678b0b3b6f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7d2b59713422951f35c37c6f336838eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d2b59713422951f35c37c6f336838eb">MpxRunningContext</a> (bool initialize)</td></tr>
<tr class="memdesc:a7d2b59713422951f35c37c6f336838eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">private constructor for signal stuff initializer  <a href="#a7d2b59713422951f35c37c6f336838eb">More...</a><br /></td></tr>
<tr class="separator:a7d2b59713422951f35c37c6f336838eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf91ff0c74152a3e07514f5cd1953628"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adf91ff0c74152a3e07514f5cd1953628">CheckTimeValidity</a> ()</td></tr>
<tr class="memdesc:adf91ff0c74152a3e07514f5cd1953628"><td class="mdescLeft">&#160;</td><td class="mdescRight">check validity of time  <a href="#adf91ff0c74152a3e07514f5cd1953628">More...</a><br /></td></tr>
<tr class="separator:adf91ff0c74152a3e07514f5cd1953628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4921e4ddb6c3fc64aff9ee2c4e953618"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4921e4ddb6c3fc64aff9ee2c4e953618">HandleDescriptors</a> (int count)</td></tr>
<tr class="memdesc:a4921e4ddb6c3fc64aff9ee2c4e953618"><td class="mdescLeft">&#160;</td><td class="mdescRight">invoke I/O call-back functions  <a href="#a4921e4ddb6c3fc64aff9ee2c4e953618">More...</a><br /></td></tr>
<tr class="separator:a4921e4ddb6c3fc64aff9ee2c4e953618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc0d53bfdd5f3d95b86e19254a3a5d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a3dc0d53bfdd5f3d95b86e19254a3a5d6">ActivateDescriptors</a> (void)</td></tr>
<tr class="memdesc:a3dc0d53bfdd5f3d95b86e19254a3a5d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">active file descriptors  <a href="#a3dc0d53bfdd5f3d95b86e19254a3a5d6">More...</a><br /></td></tr>
<tr class="separator:a3dc0d53bfdd5f3d95b86e19254a3a5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ced04c552838f36ff7263ae58bb599e"><td class="memItemLeft" align="right" valign="top">struct timespec *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a9ced04c552838f36ff7263ae58bb599e">HandleTimers</a> (void)</td></tr>
<tr class="memdesc:a9ced04c552838f36ff7263ae58bb599e"><td class="mdescLeft">&#160;</td><td class="mdescRight">invoke timer call-back functions  <a href="#a9ced04c552838f36ff7263ae58bb599e">More...</a><br /></td></tr>
<tr class="separator:a9ced04c552838f36ff7263ae58bb599e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76917e11fd107e9ea267764eda2bc33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ae76917e11fd107e9ea267764eda2bc33">CompensateTimers</a> (long long timeDiff)</td></tr>
<tr class="memdesc:ae76917e11fd107e9ea267764eda2bc33"><td class="mdescLeft">&#160;</td><td class="mdescRight">compensate timers  <a href="#ae76917e11fd107e9ea267764eda2bc33">More...</a><br /></td></tr>
<tr class="separator:ae76917e11fd107e9ea267764eda2bc33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:adec6c12473bfb2d9a415280d698643f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adec6c12473bfb2d9a415280d698643f5">HandleSignal</a> (int sig, siginfo_t *info, void *data)</td></tr>
<tr class="memdesc:adec6c12473bfb2d9a415280d698643f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">OS signal handler for any signal function is sigaction form of signal handler for specified signal. Its only purpose is to remember siginfo_t information reported by OS. This job is performed in signal context and must be as short as possible. It simply moves information reported by OS into list of currently pending signal information objects and terminates. This information will be handled later when epoll_wait() will be interrupted by function <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6c96a645a2cf4564e6f644b5ea3c6042" title="handle all signals in sync with application ">HandleAllSignals()</a>  <a href="#adec6c12473bfb2d9a415280d698643f5">More...</a><br /></td></tr>
<tr class="separator:adec6c12473bfb2d9a415280d698643f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c96a645a2cf4564e6f644b5ea3c6042"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6c96a645a2cf4564e6f644b5ea3c6042">HandleAllSignals</a> (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx)</td></tr>
<tr class="memdesc:a6c96a645a2cf4564e6f644b5ea3c6042"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle all signals in sync with application  <a href="#a6c96a645a2cf4564e6f644b5ea3c6042">More...</a><br /></td></tr>
<tr class="separator:a6c96a645a2cf4564e6f644b5ea3c6042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c3e1d38dc158f1b32188a60a3c38d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">sigLock</a> ()</td></tr>
<tr class="separator:a50c3e1d38dc158f1b32188a60a3c38d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08121c54b044034c9a55f1ed046cb900"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">sigUnlock</a> ()</td></tr>
<tr class="separator:a08121c54b044034c9a55f1ed046cb900"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab88e6cca05ac31280d9eb720d57cf344"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">m_tid</a></td></tr>
<tr class="separator:ab88e6cca05ac31280d9eb720d57cf344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9635fdfe2d2b06681221ccfcfb6f023"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a></td></tr>
<tr class="memdesc:aa9635fdfe2d2b06681221ccfcfb6f023"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of EPOLL set used by I/O multiplexer.  <a href="#aa9635fdfe2d2b06681221ccfcfb6f023">More...</a><br /></td></tr>
<tr class="separator:aa9635fdfe2d2b06681221ccfcfb6f023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8ef0c37cfae78012e5e1556f882405"><td class="memItemLeft" align="right" valign="top">epoll_event&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a8a8ef0c37cfae78012e5e1556f882405">m_epollSet</a> [<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a204165bcf84e6f76e058a66d6a86430c">g_epollSize</a>]</td></tr>
<tr class="memdesc:a8a8ef0c37cfae78012e5e1556f882405"><td class="mdescLeft">&#160;</td><td class="mdescRight">EPOLL set.  <a href="#a8a8ef0c37cfae78012e5e1556f882405">More...</a><br /></td></tr>
<tr class="separator:a8a8ef0c37cfae78012e5e1556f882405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0b01ea6e86566b834c910b4d38ece0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aab0d7c200c138d421825185797a59ead">initfunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d0b01ea6e86566b834c910b4d38ece0">m_initfunc</a></td></tr>
<tr class="memdesc:a7d0b01ea6e86566b834c910b4d38ece0"><td class="mdescLeft">&#160;</td><td class="mdescRight">'initial state' function  <a href="#a7d0b01ea6e86566b834c910b4d38ece0">More...</a><br /></td></tr>
<tr class="separator:a7d0b01ea6e86566b834c910b4d38ece0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5232ad59231b7285fce10fa48df6ab8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a412ee60de1a8303592d3f0d8a915b5a8">exitfunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab5232ad59231b7285fce10fa48df6ab8">m_exitfunc</a></td></tr>
<tr class="memdesc:ab5232ad59231b7285fce10fa48df6ab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">'final state' function  <a href="#ab5232ad59231b7285fce10fa48df6ab8">More...</a><br /></td></tr>
<tr class="separator:ab5232ad59231b7285fce10fa48df6ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1023eba5d126654d530fb26d0811557"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a83db51c5fabe4d14ea70755edf36127e">timehookfunc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa1023eba5d126654d530fb26d0811557">m_timehookfunc</a></td></tr>
<tr class="memdesc:aa1023eba5d126654d530fb26d0811557"><td class="mdescLeft">&#160;</td><td class="mdescRight">'time hook' function  <a href="#aa1023eba5d126654d530fb26d0811557">More...</a><br /></td></tr>
<tr class="separator:aa1023eba5d126654d530fb26d0811557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee02cb161d9374dd38bb56ccd42ad78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">m_appldata</a></td></tr>
<tr class="memdesc:a1ee02cb161d9374dd38bb56ccd42ad78"><td class="mdescLeft">&#160;</td><td class="mdescRight">application (context specific) data  <a href="#a1ee02cb161d9374dd38bb56ccd42ad78">More...</a><br /></td></tr>
<tr class="separator:a1ee02cb161d9374dd38bb56ccd42ad78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc094a69fda55bc28c60e99631d85a77"><td class="memItemLeft" align="right" valign="top">struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a></td></tr>
<tr class="memdesc:abc094a69fda55bc28c60e99631d85a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">time stamp for the first expired timer(s)  <a href="#abc094a69fda55bc28c60e99631d85a77">More...</a><br /></td></tr>
<tr class="separator:abc094a69fda55bc28c60e99631d85a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ecafb0e3bbc132c77f79c75a40b1b9"><td class="memItemLeft" align="right" valign="top">struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a></td></tr>
<tr class="memdesc:a68ecafb0e3bbc132c77f79c75a40b1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">real-clock current time  <a href="#a68ecafb0e3bbc132c77f79c75a40b1b9">More...</a><br /></td></tr>
<tr class="separator:a68ecafb0e3bbc132c77f79c75a40b1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668d975c0a8dd42fdddd90caebbeb413"><td class="memItemLeft" align="right" valign="top">struct timespec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a></td></tr>
<tr class="memdesc:a668d975c0a8dd42fdddd90caebbeb413"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU time for this process.  <a href="#a668d975c0a8dd42fdddd90caebbeb413">More...</a><br /></td></tr>
<tr class="separator:a668d975c0a8dd42fdddd90caebbeb413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ccfad158e868fbf1f2f2e76014e7ec3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">m_nfds</a></td></tr>
<tr class="memdesc:a4ccfad158e868fbf1f2f2e76014e7ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">nr. of active I/O handlers  <a href="#a4ccfad158e868fbf1f2f2e76014e7ec3">More...</a><br /></td></tr>
<tr class="separator:a4ccfad158e868fbf1f2f2e76014e7ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab6d07c740c5ea50b1f664a66d20218"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ad84720827a304b93e5ace02797599f1a">cblist</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a></td></tr>
<tr class="memdesc:a5ab6d07c740c5ea50b1f664a66d20218"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O handlers prepared for next iteration.  <a href="#a5ab6d07c740c5ea50b1f664a66d20218">More...</a><br /></td></tr>
<tr class="separator:a5ab6d07c740c5ea50b1f664a66d20218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab194cff3ac8d757b87c4bc266dfd5032"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1da97ce0e1c1112db6f30524207fc2b9">cbset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a></td></tr>
<tr class="memdesc:ab194cff3ac8d757b87c4bc266dfd5032"><td class="mdescLeft">&#160;</td><td class="mdescRight">current I/O handlers  <a href="#ab194cff3ac8d757b87c4bc266dfd5032">More...</a><br /></td></tr>
<tr class="separator:ab194cff3ac8d757b87c4bc266dfd5032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bb7ca294015a06d1f8dd09ed2d8015"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a37c44091e704d2f9ef68678b0b3b6f62">tmrlist</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a></td></tr>
<tr class="memdesc:a13bb7ca294015a06d1f8dd09ed2d8015"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer handlers prepared for next iteration  <a href="#a13bb7ca294015a06d1f8dd09ed2d8015">More...</a><br /></td></tr>
<tr class="separator:a13bb7ca294015a06d1f8dd09ed2d8015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68b30613ace696aa12693fe49a1a33c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6ce14803b9959c4c15f59ac159663c38">tmrset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a></td></tr>
<tr class="memdesc:ac68b30613ace696aa12693fe49a1a33c"><td class="mdescLeft">&#160;</td><td class="mdescRight">current timer handlers  <a href="#ac68b30613ace696aa12693fe49a1a33c">More...</a><br /></td></tr>
<tr class="separator:ac68b30613ace696aa12693fe49a1a33c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a108f2728a5a3a203174641d5d4c79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">m_round</a></td></tr>
<tr class="memdesc:a38a108f2728a5a3a203174641d5d4c79"><td class="mdescLeft">&#160;</td><td class="mdescRight">round number of current iteration of I/O multiplexer  <a href="#a38a108f2728a5a3a203174641d5d4c79">More...</a><br /></td></tr>
<tr class="separator:a38a108f2728a5a3a203174641d5d4c79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb419dfa86637e3b9508ce9f4fc4893b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">m_quit</a></td></tr>
<tr class="memdesc:afb419dfa86637e3b9508ce9f4fc4893b"><td class="mdescLeft">&#160;</td><td class="mdescRight">quit indicator set by <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7518abf4e81aaa5247092428ef260760">Quit()</a>  <a href="#afb419dfa86637e3b9508ce9f4fc4893b">More...</a><br /></td></tr>
<tr class="separator:afb419dfa86637e3b9508ce9f4fc4893b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a204165bcf84e6f76e058a66d6a86430c"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a204165bcf84e6f76e058a66d6a86430c">g_epollSize</a> = 1024</td></tr>
<tr class="memdesc:a204165bcf84e6f76e058a66d6a86430c"><td class="mdescLeft">&#160;</td><td class="mdescRight">initial size of EPOLL set  <a href="#a204165bcf84e6f76e058a66d6a86430c">More...</a><br /></td></tr>
<tr class="separator:a204165bcf84e6f76e058a66d6a86430c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7431ac124dd0541a795b0479e0cae75"><td class="memItemLeft" align="right" valign="top">static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">g_lock</a></td></tr>
<tr class="memdesc:ac7431ac124dd0541a795b0479e0cae75"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal list synchronization lock  <a href="#ac7431ac124dd0541a795b0479e0cae75">More...</a><br /></td></tr>
<tr class="separator:ac7431ac124dd0541a795b0479e0cae75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b6c086c0c554acb0f073a0957055f42"><td class="memItemLeft" align="right" valign="top">static sigset_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a></td></tr>
<tr class="memdesc:a4b6c086c0c554acb0f073a0957055f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">global signal mask for all I/O multiplexers  <a href="#a4b6c086c0c554acb0f073a0957055f42">More...</a><br /></td></tr>
<tr class="separator:a4b6c086c0c554acb0f073a0957055f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6743a2bed27d71d8f158c898d1731247"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">g_sigActions</a> [_NSIG]</td></tr>
<tr class="memdesc:a6743a2bed27d71d8f158c898d1731247"><td class="mdescLeft">&#160;</td><td class="mdescRight">global list of signal handlers  <a href="#a6743a2bed27d71d8f158c898d1731247">More...</a><br /></td></tr>
<tr class="separator:a6743a2bed27d71d8f158c898d1731247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b8f30cc2132aab62e01e6e158b2d375"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6b8f30cc2132aab62e01e6e158b2d375">g_initializer</a> = new <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> (true)</td></tr>
<tr class="memdesc:a6b8f30cc2132aab62e01e6e158b2d375"><td class="mdescLeft">&#160;</td><td class="mdescRight">signal handler initialization object  <a href="#a6b8f30cc2132aab62e01e6e158b2d375">More...</a><br /></td></tr>
<tr class="separator:a6b8f30cc2132aab62e01e6e158b2d375"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I/O multiplexer superclass. </p>
<p>it implements basic I/O multiplexing functionality and should be subclassed by every subclass which want to use thi functionality.</p>
<p>Main purpose of this class is to deal I/O activity of any number of open file descriptors (disk files, network sockets, POSIX message queues, etc. - in general every entity which should be expressed with file descriptor) in such a way that it look like they work at the same time. At the same time it can manage any number of timers and signal handlers. All of them (I/O activities, timers and signals) are actually serialized, they does not interrupt each other, so that we do not need to synchronize their activity. Access to data structures made by them should not be guarded by mutexes, semaphores and other synchronization mechanisms. </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00334">334</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a31a2ee430aae6ae753f629045bbc03e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mpx::MpxRunningContext::cbfunc) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, unsigned int flags, <a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> handler, int n, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I/O call-back function prototype. </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00342">342</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad84720827a304b93e5ace02797599f1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef vector&lt;<a class="el" href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html">MpxDescriptor</a>*&gt; <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ad84720827a304b93e5ace02797599f1a">mpx::MpxRunningContext::cblist</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>type representing list of prepared I/O handlers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00457">457</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1da97ce0e1c1112db6f30524207fc2b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef multimap&lt;int, <a class="el" href="../../df/d1a/classmpx_1_1MpxRunningContext_1_1MpxDescriptor.html">MpxDescriptor</a>*&gt; <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1da97ce0e1c1112db6f30524207fc2b9">mpx::MpxRunningContext::cbset</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>type representing set of I/O handlers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00456">456</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a412ee60de1a8303592d3f0d8a915b5a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mpx::MpxRunningContext::exitfunc) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prototype for end function of I/O multiplexer </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00339">339</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="aab0d7c200c138d421825185797a59ead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mpx::MpxRunningContext::initfunc) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prototype for starting function of I/O multiplexer </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00338">338</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a93d37efc87f8cc0ef845223371a9b73f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mpx::MpxRunningContext::sigfunc) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> handler, siginfo_t *info, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>signal call-back function prototype </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00345">345</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa4360abc565331676597606827d2a124"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef  <a class="el" href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html">mpx::MpxRunningContext::timecmp</a>  <a class="el" href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html">mpx::MpxRunningContext::timecmp</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compare two time-out values </p>
<p>function represents 'less then' relation for timer expiration time-stamps and is used as a predicate function in sets containing timers. </p>

</div>
</div>
<a class="anchor" id="a83db51c5fabe4d14ea70755edf36127e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mpx::MpxRunningContext::timehookfunc) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, struct timespec oldTime, struct timespec newTime, long long timeDiff, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>prototype for time-hook function of I/O multiplexer </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00340">340</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a828aa5ae79b025b083fbac771517ecf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mpx::MpxRunningContext::tmrfunc) (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *ctx, <a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a> handler, struct timespec t, <a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> appdata)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>timer call-back function prototype </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00344">344</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a37c44091e704d2f9ef68678b0b3b6f62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef vector&lt;<a class="el" href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html">MpxTimer</a>*&gt; <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a37c44091e704d2f9ef68678b0b3b6f62">mpx::MpxRunningContext::tmrlist</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>unordered list of timers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00587">587</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6ce14803b9959c4c15f59ac159663c38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef multimap&lt;struct timespec, <a class="el" href="../../de/dfc/classmpx_1_1MpxRunningContext_1_1MpxTimer.html">MpxTimer</a>*, <a class="el" href="../../df/dd4/structmpx_1_1MpxRunningContext_1_1timecmp.html">timecmp</a>&gt; <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6ce14803b9959c4c15f59ac159663c38">mpx::MpxRunningContext::tmrset</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ordered set of timers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00586">586</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7d2b59713422951f35c37c6f336838eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpx::MpxRunningContext::MpxRunningContext </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>private constructor for signal stuff initializer </p>
<p>this constructor is private and cannot be used to create object instances Its purpose is to create single signal stuff initializer which initializes some data sets associated with signal handling functionality prior to process start. It initializes:</p><ul>
<li>g_lock mutex which will synchronize assess to signal handling data structures</li>
<li>g_sigset signal set which will hold identities of all signals handled by any instance of <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html" title="I/O multiplexer superclass. ">MpxRunningContext</a></li>
<li>g_sigactions which hold signal actions for all possible signal from 1 to _NSIG</li>
<li>g_sigsMessages temporary linked list of signal descriptors </li>
</ul>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00047">47</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (!initialize)</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    pthread_mutexattr_t attr;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    pthread_mutexattr_init (&amp;attr);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    pthread_mutexattr_settype (&amp;attr, PTHREAD_MUTEX_RECURSIVE);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    pthread_mutex_init (&amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">g_lock</a>, &amp;attr);</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    sigemptyset (&amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    memset (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">g_sigActions</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">g_sigActions</a>));</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac7431ac124dd0541a795b0479e0cae75"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">mpx::MpxRunningContext::g_lock</a></div><div class="ttdeci">static pthread_mutex_t g_lock</div><div class="ttdoc">signal list synchronization lock </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00918">MpxRunningContext.h:918</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4b6c086c0c554acb0f073a0957055f42"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">mpx::MpxRunningContext::g_sigset</a></div><div class="ttdeci">static sigset_t g_sigset</div><div class="ttdoc">global signal mask for all I/O multiplexers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00919">MpxRunningContext.h:919</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a6743a2bed27d71d8f158c898d1731247"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">mpx::MpxRunningContext::g_sigActions</a></div><div class="ttdeci">static MpxSignalContext * g_sigActions[_NSIG]</div><div class="ttdoc">global list of signal handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00920">MpxRunningContext.h:920</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a940029c28b45799e083310bf5c24e270"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mpx::MpxRunningContext::MpxRunningContext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aab0d7c200c138d421825185797a59ead">initfunc</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a412ee60de1a8303592d3f0d8a915b5a8">exitfunc</a>&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a83db51c5fabe4d14ea70755edf36127e">timehookfunc</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td>
          <td class="paramname"><em>appdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>brief create an instance of I/O multiplexer</p>
<p>initializes internal structures of I/O multiplexer, especially:</p>
<ul>
<li>initfunc f: initialization function which will be called by calling environment (<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a508eed0385c670bf00ea75fb7672b22a" title="I/O multiplexer main loop. ">MainLoop()</a> function). Function is used as one shot initialization provided by caller. This function should initialize whatever is supposed to be used by I/O multiplexer and functionality encapsulated into it by the caller through different FD, timer and signal handling call-back functions.</li>
<li>exitfunc g: function called at the end of I/O multiplexer main loop. This function should release all resources allocated by initializer and any functionality encapsulated in I/O multiplexer by caller</li>
<li>timehookfunc h: function triggered whenever system time changes</li>
<li>ctx_appdt_t appdata: application data provided by caller. It should be anything which seems to be useful for the caller. This data will be later used as last parameter in calls of above functions (initfunc, exitfunc, timehookfunc) and is thus accessed by caller and meaningful only to the caller. </li>
</ul>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00088">88</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">m_tid</a> = (pid_t) -1;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d0b01ea6e86566b834c910b4d38ece0">m_initfunc</a> = f;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab5232ad59231b7285fce10fa48df6ab8">m_exitfunc</a> = g;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa1023eba5d126654d530fb26d0811557">m_timehookfunc</a> = h;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">m_appldata</a> = appdata;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">m_nfds</a> = -1;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">m_round</a> = 0;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">m_quit</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a> = 0;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab5232ad59231b7285fce10fa48df6ab8"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab5232ad59231b7285fce10fa48df6ab8">mpx::MpxRunningContext::m_exitfunc</a></div><div class="ttdeci">exitfunc m_exitfunc</div><div class="ttdoc">&amp;#39;final state&amp;#39; function </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00903">MpxRunningContext.h:903</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab88e6cca05ac31280d9eb720d57cf344"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">mpx::MpxRunningContext::m_tid</a></div><div class="ttdeci">pid_t m_tid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00898">MpxRunningContext.h:898</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a38a108f2728a5a3a203174641d5d4c79"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">mpx::MpxRunningContext::m_round</a></div><div class="ttdeci">int m_round</div><div class="ttdoc">round number of current iteration of I/O multiplexer </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00923">MpxRunningContext.h:923</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_afb419dfa86637e3b9508ce9f4fc4893b"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">mpx::MpxRunningContext::m_quit</a></div><div class="ttdeci">bool m_quit</div><div class="ttdoc">quit indicator set by Quit() </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00924">MpxRunningContext.h:924</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4ccfad158e868fbf1f2f2e76014e7ec3"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">mpx::MpxRunningContext::m_nfds</a></div><div class="ttdeci">int m_nfds</div><div class="ttdoc">nr. of active I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00911">MpxRunningContext.h:911</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a1ee02cb161d9374dd38bb56ccd42ad78"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">mpx::MpxRunningContext::m_appldata</a></div><div class="ttdeci">ctx_appdt_t m_appldata</div><div class="ttdoc">application (context specific) data </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00905">MpxRunningContext.h:905</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa9635fdfe2d2b06681221ccfcfb6f023"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">mpx::MpxRunningContext::m_epollSetId</a></div><div class="ttdeci">int m_epollSetId</div><div class="ttdoc">ID of EPOLL set used by I/O multiplexer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">MpxRunningContext.h:899</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa1023eba5d126654d530fb26d0811557"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa1023eba5d126654d530fb26d0811557">mpx::MpxRunningContext::m_timehookfunc</a></div><div class="ttdeci">timehookfunc m_timehookfunc</div><div class="ttdoc">&amp;#39;time hook&amp;#39; function </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00904">MpxRunningContext.h:904</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a7d0b01ea6e86566b834c910b4d38ece0"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d0b01ea6e86566b834c910b4d38ece0">mpx::MpxRunningContext::m_initfunc</a></div><div class="ttdeci">initfunc m_initfunc</div><div class="ttdoc">&amp;#39;initial state&amp;#39; function </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00902">MpxRunningContext.h:902</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a327aea9c048f51d916bfdf4f1e7312be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mpx::MpxRunningContext::~MpxRunningContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I/O multiplexer destructor. </p>
<p>stop internal message queue and release all internal data structures </p>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00107">107</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        cblist::iterator i;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">for</span> (i = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.begin (); i != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.end (); ++i)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            cbset::iterator ci;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">for</span> (ci = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.begin (); (ci != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.end ()) &amp;&amp; (ci-&gt;second != *i); ++ci)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                ;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">if</span> (ci != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.end ())</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.erase (ci);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keyword">delete</span> *i;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.clear ();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        cbset::iterator i;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">for</span> (i = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.begin (); i != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.end (); ++i)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keyword">delete</span> i-&gt;second;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.clear ();</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        tmrlist::iterator i;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">for</span> (i = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.begin (); i != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.end (); ++i)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            tmrset::iterator ti;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">for</span> (ti = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); (ti != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end ()) &amp;&amp; (ti-&gt;second != *i); ++ti)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                ;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">if</span> (ti != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end ())</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.erase (ti);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keyword">delete</span> *i;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.clear ();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        tmrset::iterator i;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">for</span> (i = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); i != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end (); ++i)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keyword">delete</span> i-&gt;second;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.clear ();</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a> != 0)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        close (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a> = 0;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac68b30613ace696aa12693fe49a1a33c"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">mpx::MpxRunningContext::m_tmrset</a></div><div class="ttdeci">tmrset m_tmrset</div><div class="ttdoc">current timer handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00916">MpxRunningContext.h:916</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a13bb7ca294015a06d1f8dd09ed2d8015"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">mpx::MpxRunningContext::m_tmrlist</a></div><div class="ttdeci">tmrlist m_tmrlist</div><div class="ttdoc">timer handlers prepared for next iteration </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00915">MpxRunningContext.h:915</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab194cff3ac8d757b87c4bc266dfd5032"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">mpx::MpxRunningContext::m_cbset</a></div><div class="ttdeci">cbset m_cbset</div><div class="ttdoc">current I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00913">MpxRunningContext.h:913</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a5ab6d07c740c5ea50b1f664a66d20218"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">mpx::MpxRunningContext::m_cblist</a></div><div class="ttdeci">cblist m_cblist</div><div class="ttdoc">I/O handlers prepared for next iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00912">MpxRunningContext.h:912</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa9635fdfe2d2b06681221ccfcfb6f023"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">mpx::MpxRunningContext::m_epollSetId</a></div><div class="ttdeci">int m_epollSetId</div><div class="ttdoc">ID of EPOLL set used by I/O multiplexer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">MpxRunningContext.h:899</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3dc0d53bfdd5f3d95b86e19254a3a5d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::ActivateDescriptors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>active file descriptors </p>
<p>at the beginning of every iteration of I/O multiplexer main loop objects associated with file descriptor call-back functions from prepared list will be put into set of active objects. This is done in the following way.</p>
<p>For every object in list of prepared objects the following steps are made:</p>
<ul>
<li>if it is one of active handlers associated with its file descriptor marked for deletion(!), it is removed from set of active objects m_cbset. This is a way how to remove active object. If application wants to remove call-back function for some file descriptor it calls <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#af352b88ea000067360907f56d9ac0d9e" title="remove I/O handler ">RemoveDescriptor()</a> for object associated with this call-back function. This function will mark associated object as deleted(!) and write its reference into list of prepared objects signaling to <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a3dc0d53bfdd5f3d95b86e19254a3a5d6" title="active file descriptors ">ActivateDescriptors()</a> to actually delete this object. Reason for this complication is in the fact that generally the set m_cbset cannot be modified arbitrarily, especially when iterating through it. This set is iterated when calling call-back functions of file descriptors. This functions are only reasonable places where deletion of self or other call-back functions can happen and that is why it must be done very carefully to avoid disastrous results.</li>
<li>if handler is not marked for deletion and if it does not exist in the set of active handlers, it is added to the set</li>
<li>if handler is not marked for deletion but it does exist in the set of active handlers, it is modified </li>
</ul>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00660">660</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;{</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    cblist::iterator it;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">for</span> (it = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.begin (); it != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.end (); ++it)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        MpxDescriptor *hdlr = (MpxDescriptor*) *it;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordtype">int</span> fd = hdlr-&gt;fd ();</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        pair &lt;cbset::iterator, cbset::iterator&gt; er = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.equal_range (fd);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        cbset::iterator sit;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">for</span> (sit = er.first; (sit != er.second) &amp;&amp; (hdlr != sit-&gt;second); ++sit)</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            ;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">if</span> (hdlr-&gt;deleted ())</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            epoll_ctl (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>, EPOLL_CTL_DEL, fd, 0);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span> (sit != er.second)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.erase (sit);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keyword">delete</span> hdlr;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordflow">if</span> (sit == er.second)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            epoll_event event;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keyword">event</span>.events = hdlr-&gt;flags ();</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            <span class="keyword">event</span>.data.fd = fd;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            epoll_ctl (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>, EPOLL_CTL_ADD, fd, &amp;event);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.insert (cbset::value_type (fd, hdlr));</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            epoll_event event;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="keyword">event</span>.events = hdlr-&gt;flags ();</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keyword">event</span>.data.fd = fd;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            epoll_ctl (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>, EPOLL_CTL_MOD, fd, &amp;event);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.clear ();</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">m_nfds</a> = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.size ();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4ccfad158e868fbf1f2f2e76014e7ec3"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">mpx::MpxRunningContext::m_nfds</a></div><div class="ttdeci">int m_nfds</div><div class="ttdoc">nr. of active I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00911">MpxRunningContext.h:911</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab194cff3ac8d757b87c4bc266dfd5032"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">mpx::MpxRunningContext::m_cbset</a></div><div class="ttdeci">cbset m_cbset</div><div class="ttdoc">current I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00913">MpxRunningContext.h:913</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a5ab6d07c740c5ea50b1f664a66d20218"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">mpx::MpxRunningContext::m_cblist</a></div><div class="ttdeci">cblist m_cblist</div><div class="ttdoc">I/O handlers prepared for next iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00912">MpxRunningContext.h:912</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa9635fdfe2d2b06681221ccfcfb6f023"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">mpx::MpxRunningContext::m_epollSetId</a></div><div class="ttdeci">int m_epollSetId</div><div class="ttdoc">ID of EPOLL set used by I/O multiplexer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">MpxRunningContext.h:899</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a66aa8447be7e5bdec6e23ddf53e98be5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::ChangeDescriptorAppData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td>
          <td class="paramname"><em>des</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td>
          <td class="paramname"><em>appdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>change application data reference of I/O handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des</td><td>generalized reference to I/O handler </td></tr>
    <tr><td class="paramname">appdata</td><td>new application data reference </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00820">820</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    {</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">if</span> (des)</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            ((MpxDescriptor*) des)-&gt;data (appdata);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8b283a4e9920d42feb15e99f5ec340a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::ChangeDescriptorHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td>
          <td class="paramname"><em>des</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a31a2ee430aae6ae753f629045bbc03e7">cbfunc</a>&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>change I/O call-back function of I/O handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">des</td><td>generalized reference to I/O handler </td></tr>
    <tr><td class="paramname">f</td><td>reference to new call-back function </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00809">809</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    {</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="keywordflow">if</span> (des)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            ((MpxDescriptor*) des)-&gt;f (f);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adf91ff0c74152a3e07514f5cd1953628"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::CheckTimeValidity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check validity of time </p>
<p>function checks difference between CPU and real time. If CPU and real times elapsed from last iteration of I/O multiplexer loop differ for more than one second all timers are recalculated to meet the new value of real time. Time hook function provided by user is called with old and new time stamps. </p>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00315">315</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;{</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">struct </span>timespec cpuTimeStop;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keyword">struct </span>timespec realTimeStop;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> longCpuTime;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> longCpuTimeStop;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> longCpuTimeDiff;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> longRealTime;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> longRealTimeStop;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> longRealTimeDiff;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordtype">long</span> <span class="keywordtype">long</span> diff;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    clock_gettime (CLOCK_MONOTONIC, &amp;cpuTimeStop);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    cpuTimeStop.tv_nsec &gt;&gt;= 22;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    cpuTimeStop.tv_nsec &lt;&lt;= 22;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    clock_gettime (CLOCK_REALTIME, &amp;realTimeStop);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    realTimeStop.tv_nsec &gt;&gt;= 22;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    realTimeStop.tv_nsec &lt;&lt;= 22;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    longCpuTime = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a>.tv_sec;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    longCpuTime *= <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    longCpuTime += <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a>.tv_nsec;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    longCpuTimeStop = cpuTimeStop.tv_sec;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    longCpuTimeStop *= <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    longCpuTimeStop += cpuTimeStop.tv_nsec;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    longCpuTimeDiff = longCpuTimeStop - longCpuTime;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    longRealTime = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>.tv_sec;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    longRealTime *= <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    longRealTime += <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>.tv_nsec;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    longRealTimeStop = realTimeStop.tv_sec;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    longRealTimeStop *= <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    longRealTimeStop += realTimeStop.tv_nsec;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    longRealTimeDiff = longRealTimeStop - longRealTime;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a> = cpuTimeStop;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a> = realTimeStop;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    diff = longRealTimeDiff - longCpuTimeDiff;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> ((diff &gt; <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>) || (diff &lt; -<a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>))</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ae76917e11fd107e9ea267764eda2bc33">CompensateTimers</a> (diff);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa1023eba5d126654d530fb26d0811557">m_timehookfunc</a> != NULL)</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordtype">long</span> <span class="keywordtype">long</span> longOldTime = longRealTimeStop + diff;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keyword">struct </span>timespec oldTime;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            oldTime.tv_sec = longOldTime / <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            oldTime.tv_nsec = longOldTime % <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa1023eba5d126654d530fb26d0811557">m_timehookfunc</a> (<span class="keyword">this</span>, oldTime, realTimeStop, diff, <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">m_appldata</a>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ae76917e11fd107e9ea267764eda2bc33"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ae76917e11fd107e9ea267764eda2bc33">mpx::MpxRunningContext::CompensateTimers</a></div><div class="ttdeci">void CompensateTimers(long long timeDiff)</div><div class="ttdoc">compensate timers </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00384">MpxRunningContext.cpp:384</a></div></div>
<div class="ttc" id="MpxRunningContext_8h_html_a175215ab4debacfa1496cb0dd5fb829f"><div class="ttname"><a href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a></div><div class="ttdeci">#define SEC_TO_NSEC</div><div class="ttdoc">number of nanoseconds in one second </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00063">MpxRunningContext.h:63</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a1ee02cb161d9374dd38bb56ccd42ad78"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">mpx::MpxRunningContext::m_appldata</a></div><div class="ttdeci">ctx_appdt_t m_appldata</div><div class="ttdoc">application (context specific) data </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00905">MpxRunningContext.h:905</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a68ecafb0e3bbc132c77f79c75a40b1b9"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">mpx::MpxRunningContext::m_realTime</a></div><div class="ttdeci">struct timespec m_realTime</div><div class="ttdoc">real-clock current time </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00908">MpxRunningContext.h:908</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa1023eba5d126654d530fb26d0811557"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa1023eba5d126654d530fb26d0811557">mpx::MpxRunningContext::m_timehookfunc</a></div><div class="ttdeci">timehookfunc m_timehookfunc</div><div class="ttdoc">&amp;#39;time hook&amp;#39; function </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00904">MpxRunningContext.h:904</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a668d975c0a8dd42fdddd90caebbeb413"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">mpx::MpxRunningContext::m_cpuTime</a></div><div class="ttdeci">struct timespec m_cpuTime</div><div class="ttdoc">CPU time for this process. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00909">MpxRunningContext.h:909</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae76917e11fd107e9ea267764eda2bc33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::CompensateTimers </td>
          <td>(</td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>timeDiff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compensate timers </p>
<p>functions adjusts expiration times for all timers registered by an instance of I/O multiplexer. All timers are restarted: they are removed from active timer list and put into list of prepared timers</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeDiff</td><td>real-time time stamp difference between two consecutive iterations of I/O multiplexer loop </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00384">384</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;{</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">bool</span> advance = (timeDiff &gt;= 0);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keyword">struct </span>timespec td;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (!advance)</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        timeDiff *= -1;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    td.tv_sec = timeDiff / <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    td.tv_nsec = timeDiff % <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    tmrlist::iterator tli;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">for</span> (tli = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.begin (); tli != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.end (); ++tli)</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        MpxTimer* tmr = *tli;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        tmr-&gt;compensate (advance, td);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    tmrset::iterator tsi;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">for</span> (tsi = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); tsi != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end (); ++tsi)</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        MpxTimer* tmr = tsi-&gt;second;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        tmr-&gt;compensate (advance, td);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.push_back (tmr);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.clear ();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac68b30613ace696aa12693fe49a1a33c"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">mpx::MpxRunningContext::m_tmrset</a></div><div class="ttdeci">tmrset m_tmrset</div><div class="ttdoc">current timer handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00916">MpxRunningContext.h:916</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a13bb7ca294015a06d1f8dd09ed2d8015"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">mpx::MpxRunningContext::m_tmrlist</a></div><div class="ttdeci">tmrlist m_tmrlist</div><div class="ttdoc">timer handlers prepared for next iteration </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00915">MpxRunningContext.h:915</a></div></div>
<div class="ttc" id="MpxRunningContext_8h_html_a175215ab4debacfa1496cb0dd5fb829f"><div class="ttname"><a href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a></div><div class="ttdeci">#define SEC_TO_NSEC</div><div class="ttdoc">number of nanoseconds in one second </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00063">MpxRunningContext.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21fef22384a5dcf97176b2ecb1adfb6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::DisableDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>disable I/O handler activity </p>
<p>modifies EPOLL activity of file descriptor associated with I/O handler</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>I/O handler reference associated with file descriptor </td></tr>
    <tr><td class="paramname">flags</td><td>EPOLL flags. Reasonable values are EPOLLIN (disable input, e.g. read()) and EPOLLOUT (disable output, e.g. write()) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00738">738</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;{</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (h == NULL)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    MpxDescriptor* hdlr = (MpxDescriptor*) h;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">if</span> (hdlr-&gt;deleted ())</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    uint hflags = hdlr-&gt;flags ();</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    hdlr-&gt;flags (hflags &amp;= ~flags);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordtype">int</span> fd = hdlr-&gt;fd ();</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    epoll_event event;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keyword">event</span>.events = hflags;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keyword">event</span>.data.fd = fd;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    epoll_ctl (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>, EPOLL_CTL_MOD, fd, &amp;event);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa9635fdfe2d2b06681221ccfcfb6f023"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">mpx::MpxRunningContext::m_epollSetId</a></div><div class="ttdeci">int m_epollSetId</div><div class="ttdoc">ID of EPOLL set used by I/O multiplexer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">MpxRunningContext.h:899</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f9b0cc01996159495be00ea6d3b67ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::DisableTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a>&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>disable timer </p>
<p>function deactivates previously active timer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>generalized reference to timer handler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00848">848</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    {</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> (tmr)</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            ((MpxTimer*) tmr)-&gt;active (<span class="keyword">false</span>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abbde49a361573e5c48e508b6f4660db4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::EnableDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enable I/O handler activity </p>
<p>modifies EPOLL activity of file descriptor associated with I/O handler</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>I/O handler reference associated with file descriptor </td></tr>
    <tr><td class="paramname">flags</td><td>EPOLL flags. Reasonable values are EPOLLIN (enable input, e.g. read()) and EPOLLOUT (enable output, e.g. write()) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00710">710</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;{</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (h == NULL)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    MpxDescriptor* hdlr = (MpxDescriptor*) h;</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">if</span> (hdlr-&gt;deleted ())</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    uint hflags = hdlr-&gt;flags ();</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    hdlr-&gt;flags (hflags |= flags);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">int</span> fd = hdlr-&gt;fd ();</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    epoll_event event;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keyword">event</span>.events = hflags;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keyword">event</span>.data.fd = fd;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    epoll_ctl (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>, EPOLL_CTL_MOD, fd, &amp;event);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa9635fdfe2d2b06681221ccfcfb6f023"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">mpx::MpxRunningContext::m_epollSetId</a></div><div class="ttdeci">int m_epollSetId</div><div class="ttdoc">ID of EPOLL set used by I/O multiplexer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">MpxRunningContext.h:899</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac89f2ef0b037a6f3fcb5a956f00b85ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::EnableTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a>&#160;</td>
          <td class="paramname"><em>tmr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>enable timer </p>
<p>function activates previously inactive timer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tmr</td><td>generalized reference to timer handler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00837">837</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    {</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <span class="keywordflow">if</span> (tmr)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            ((MpxTimer*) tmr)-&gt;active (<span class="keyword">true</span>);</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c96a645a2cf4564e6f644b5ea3c6042"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::HandleAllSignals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> *&#160;</td>
          <td class="paramname"><em>currentCtx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>handle all signals in sync with application </p>
<p>function invokes signal handler call-back functions after epoll_wait() has been interrupted and are thus invoked in sync with application. Since is synchronized with current I/O multiplexer, there is no need to use special synchronization mechanisms between call-back function used by this I/O multiplexer. Signals with lower numbers are delivered first. Order of delivery for signal handlers with same signal number is not specified. Signals which are registered by other instances of I/O multiplexer (one or more) are delivered to them using MQSend() which will sync them with these instances.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentContext</td><td>signal handler context. Actually it is a reference to this instance of I/O multiplexer and is thus used to distinguish between signal invocation and signal redirection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00891">891</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;{</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">sigLock</a> ();</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">sigUnlock</a> ();</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a08121c54b044034c9a55f1ed046cb900"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">mpx::MpxRunningContext::sigUnlock</a></div><div class="ttdeci">static void sigUnlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00879">MpxRunningContext.h:879</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a50c3e1d38dc158f1b32188a60a3c38d8"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">mpx::MpxRunningContext::sigLock</a></div><div class="ttdeci">static void sigLock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00874">MpxRunningContext.h:874</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4921e4ddb6c3fc64aff9ee2c4e953618"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::HandleDescriptors </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>invoke I/O call-back functions </p>
<p>function will invoke call-back functions for all file descriptors which are ready for requested I/O operation in the current iteration of I/O multiplexer main loop. It will iterate through m_epollSet as much times as needed. At every iteration it will execute all call-back functions provided for file descriptor determined in given iteration</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>number of file descriptors ready for I/O in current invocation of I/O multiplexer main loop </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00558">558</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;{</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        epoll_event* <span class="keyword">event</span> = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a8a8ef0c37cfae78012e5e1556f882405">m_epollSet</a> + i;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordtype">int</span> fd = <span class="keyword">event</span>-&gt;data.fd;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        pair &lt;cbset::iterator, cbset::iterator&gt; er = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.equal_range (fd);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        cbset::iterator it;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">for</span> (it = er.first; it != er.second; ++it)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            MpxDescriptor *hdlr = it-&gt;second;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> ((hdlr-&gt;active ()) &amp;&amp; (!hdlr-&gt;deleted ()))</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            {</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, 0);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                hdlr-&gt;f () (<span class="keyword">this</span>, <span class="keyword">event</span>-&gt;events, hdlr, fd, hdlr-&gt;data ());</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, 0);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            }</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    }</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a8a8ef0c37cfae78012e5e1556f882405"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a8a8ef0c37cfae78012e5e1556f882405">mpx::MpxRunningContext::m_epollSet</a></div><div class="ttdeci">epoll_event m_epollSet[g_epollSize]</div><div class="ttdoc">EPOLL set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00900">MpxRunningContext.h:900</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab194cff3ac8d757b87c4bc266dfd5032"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">mpx::MpxRunningContext::m_cbset</a></div><div class="ttdeci">cbset m_cbset</div><div class="ttdoc">current I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00913">MpxRunningContext.h:913</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adec6c12473bfb2d9a415280d698643f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::HandleSignal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">siginfo_t *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>OS signal handler for any signal function is sigaction form of signal handler for specified signal. Its only purpose is to remember siginfo_t information reported by OS. This job is performed in signal context and must be as short as possible. It simply moves information reported by OS into list of currently pending signal information objects and terminates. This information will be handled later when epoll_wait() will be interrupted by function <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6c96a645a2cf4564e6f644b5ea3c6042" title="handle all signals in sync with application ">HandleAllSignals()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>signal number </td></tr>
    <tr><td class="paramname">info</td><td>siginfo as reported by OS </td></tr>
    <tr><td class="paramname">data</td><td>additional data as reported by OS </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00868">868</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">sigLock</a> ();</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">sigUnlock</a> ();</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a08121c54b044034c9a55f1ed046cb900"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">mpx::MpxRunningContext::sigUnlock</a></div><div class="ttdeci">static void sigUnlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00879">MpxRunningContext.h:879</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a50c3e1d38dc158f1b32188a60a3c38d8"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">mpx::MpxRunningContext::sigLock</a></div><div class="ttdeci">static void sigLock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00874">MpxRunningContext.h:874</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ced04c552838f36ff7263ae58bb599e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec * mpx::MpxRunningContext::HandleTimers </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>invoke timer call-back functions </p>
<p>this function is called at the beginning of each iteration of I/O multiplexer main loop. Shortly before this function call new real-time time-stamp is calculated. This time-stamp is used to determine all timers which expire in current iteration of I/O multiplexer main loop. This is done very simply. Since set of active timers, namely m_tmrset, is arranged by rising expiration times it is sufficient to compute upper bound of this set given real-time time-stamp. All call-back functions for timers from the beginning to the upper bound from this set will be invoked and corresponding timers are removed from this set so that they will not be invoked again in the next iteration of I/O multiplexer main loop.</p>
<p>After that all prepared timers from the list m_tmrlist will be put into the set of active timers m_tmrset and will be executed in one of next iterations.</p>
<p>Finally it is computed new time interval which represents maximal time to wait before execution of next iteration of I/O multiplexer main loop. It is the difference between time-stamp of the earliest timer expiration an real-time time-stamp. Time-stamp of earliest timer is simply the expiration time of first active timer in the set of active timers m_tmrset. If there is one (set is not empty) its expiration time is taken and the difference between it and real-time time-stamp is calculated. If this difference has negative value it means that loop is so busy that missed expiration of some timers and so the next iteration must be executed immediately which can be achieved by setting this difference to 0. This difference is finally saved into m_timer.</p>
<dl class="section return"><dt>Returns</dt><dd>null there are no active timers in this instance of I/O multiplexer. Next iteration will wait forever until some I/O activity happens or until interrupted by signal </dd>
<dd>
other maximal time to wait until next iteration of I/O multiplexer main loop </dd></dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00450">450</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;{</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="comment">// execute all timers expired before current time stamp</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.empty ())</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        tmrset::iterator it, ub;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="comment">// timer expiration time stamp is bounded with upper bound of current time stamp</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">for</span> (ub = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.upper_bound (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>), it = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); it != ub; ++it)</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            MpxTimer *tmr = it-&gt;second;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> (tmr-&gt;active ())</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                tmr-&gt;active (<span class="keyword">false</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, 0);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                tmr-&gt;f () (<span class="keyword">this</span>, tmr, tmr-&gt;t (), tmr-&gt;data ());</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, 0);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="comment">// expired timers are deleted</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">for</span> (it = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); it != ub; ++it)</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            MpxTimer *tmr = it-&gt;second;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keyword">delete</span> tmr;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            it-&gt;second = NULL;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.erase (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (), ub);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">// register new timers</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.empty ())</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        tmrlist::iterator li;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">// copy registration list in execution set</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">for</span> (li = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.begin (); li != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.end (); ++li)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            MpxTimer *tmr = *li;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">if</span> (tmr-&gt;active ())</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.insert (tmrset::value_type (tmr-&gt;t (), tmr));</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <span class="keyword">delete</span> tmr;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.clear ();</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// compute next timer expiration delay</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keyword">struct </span>timespec *tp = NULL; <span class="comment">// suppose we have no registered timers</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    tmrset::iterator it; <span class="comment">// if there is any timer it is surely at the beginning</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">for</span> (it = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); (it != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end ()) &amp;&amp; !(it-&gt;second-&gt;active ()); ++it)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        ;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end ())</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// there are registered timers</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa4360abc565331676597606827d2a124">timecmp</a> cmp;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (cmp (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>, it-&gt;first))</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">// we have to wait for next time-out</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>.tv_sec = it-&gt;first.tv_sec - <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>.tv_sec;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>.tv_nsec = it-&gt;first.tv_nsec - <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>.tv_nsec) &lt; 0)</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>.tv_nsec += <a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>.tv_sec -= 1;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="comment">// we have missed next time-out: execute it immediatelly</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>.tv_sec = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>.tv_nsec = 0;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        tp = &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.erase (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (), it);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">return</span> tp;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac68b30613ace696aa12693fe49a1a33c"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">mpx::MpxRunningContext::m_tmrset</a></div><div class="ttdeci">tmrset m_tmrset</div><div class="ttdoc">current timer handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00916">MpxRunningContext.h:916</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a13bb7ca294015a06d1f8dd09ed2d8015"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">mpx::MpxRunningContext::m_tmrlist</a></div><div class="ttdeci">tmrlist m_tmrlist</div><div class="ttdoc">timer handlers prepared for next iteration </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00915">MpxRunningContext.h:915</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa4360abc565331676597606827d2a124"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa4360abc565331676597606827d2a124">mpx::MpxRunningContext::timecmp</a></div><div class="ttdeci">mpx::MpxRunningContext::timecmp timecmp</div><div class="ttdoc">compare two time-out values </div></div>
<div class="ttc" id="MpxRunningContext_8h_html_a175215ab4debacfa1496cb0dd5fb829f"><div class="ttname"><a href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a></div><div class="ttdeci">#define SEC_TO_NSEC</div><div class="ttdoc">number of nanoseconds in one second </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00063">MpxRunningContext.h:63</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a68ecafb0e3bbc132c77f79c75a40b1b9"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">mpx::MpxRunningContext::m_realTime</a></div><div class="ttdeci">struct timespec m_realTime</div><div class="ttdoc">real-clock current time </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00908">MpxRunningContext.h:908</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_abc094a69fda55bc28c60e99631d85a77"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">mpx::MpxRunningContext::m_timer</a></div><div class="ttdeci">struct timespec m_timer</div><div class="ttdoc">time stamp for the first expired timer(s) </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00907">MpxRunningContext.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a508eed0385c670bf00ea75fb7672b22a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunningContext::MainLoop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I/O multiplexer main loop. </p>
<p>main loop of I/O multiplexer. It handles virtually unlimited number of file descriptors of any kind, timers and signal handlers simultaneously. The main logic of this function is very simple: it iterates indefinitely until something happens on one or more file descriptors, timers or signals registered within it. It then invokes appropriate actions associated with these file descriptors, timers and signals. This actions are call-back functions registered to handle I/O events on file descriptors, timers and signals. After that loop is repeated until there are any registered call-back functions. New one can be registered or unregistered at any time. Function performs as follows:</p>
<ul>
<li>it remembers time stamps for monotonic and real system time. This time is initial time stamp to compute timers.</li>
<li>it creates internal message queue</li>
<li>it calls initialization function provided by user when creating this object. This function is appropriate space where first I/O call-back functions, timers and signals should be registered. They will be executed in the main loop of I/O multiplexer</li>
<li>it blocks all signals registered by all instances of <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html" title="I/O multiplexer superclass. ">MpxRunningContext</a></li>
<li>it finally creates polling mechanism for I/O multiplexer</li>
</ul>
<p>These were initialization steps of I/O multiplexer. This phase is followed by this iteration. Each step of iteration is composed of these steps:</p>
<ul>
<li>call-back functions for all timers expired in this iteration are invoked. After that time stamp for the next timer (one or more if they expire at the same time) is calculated.</li>
<li>call-back functions for I/O handlers changed in previous iteration are updated. New one are added, unneeded are removed.</li>
<li>if immediate termination is requested in previous step or if there are no I/O activity or no timer then loop will be broken</li>
<li>next it is calculated maximal time interval to wait before next iteration: if there are no timers, loop will wait indefinitely until some I/O activity happens, otherwise it will pause execution until next timer expiration or until next I/O activity whichever happens first</li>
<li>before waiting for new I/O activity or timer expiration (system call epoll_wait()) signals are allowed to trigger. This is the only place in the whole iteration loop where registered signals should trigger</li>
<li>if epoll_wait() fails, error code is checked. If this code indicates that epoll_wait() was interrupted by signal, signal call-backs are executed and loop begins next iteration</li>
<li>if epoll_wait() succeeds, I/O call-back functions for file descriptors which require I/O activity are invoked. This call-back functions should register new one or deactivate existing one, they should activate new timers or deactivate existing one, and finally they can activate new signal handling call-back functions or deactivate existing one. The same is true also for timer and signal handling call-back functions. After call-back functions for file descriptors activated in current iteration have been invoked I/O multiplexer starts execution of next iteration</li>
<li>whenever epoll_wait() terminates, system time is checked to see if it agrees with application time.</li>
</ul>
<p>When loop terminates exit function is called. This function is provided by caller and should contain code which will </p>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00229">229</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordtype">int</span> status = 0;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    clock_gettime (CLOCK_MONOTONIC, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a>.tv_nsec &gt;&gt;= 22;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">m_cpuTime</a>.tv_nsec &lt;&lt;= 22;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    clock_gettime (CLOCK_REALTIME, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>.tv_nsec &gt;&gt;= 22;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>.tv_nsec &lt;&lt;= 22;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">m_tid</a> = syscall (SYS_gettid);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d0b01ea6e86566b834c910b4d38ece0">m_initfunc</a> != NULL)</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d0b01ea6e86566b834c910b4d38ece0">m_initfunc</a> (<span class="keyword">this</span>, <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">m_appldata</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    pthread_sigmask (SIG_BLOCK, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>, 0);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a> = epoll_create (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a204165bcf84e6f76e058a66d6a86430c">g_epollSize</a>)) &gt; 0)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordtype">int</span> n, epollTimer;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keyword">struct </span>timespec *tp;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            ++<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">m_round</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, 0);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            tp = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a9ced04c552838f36ff7263ae58bb599e">HandleTimers</a> ();</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a3dc0d53bfdd5f3d95b86e19254a3a5d6">ActivateDescriptors</a> ();</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, 0);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">m_quit</a>)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">m_nfds</a> &lt;= 0) &amp;&amp; (tp == NULL))</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">if</span> (tp == NULL)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                epollTimer = -1;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                epollTimer = (tp-&gt;tv_sec * 1000) + ((tp-&gt;tv_nsec / (<a class="code" href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a> / 1000)));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            pthread_sigmask (SIG_UNBLOCK, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>, 0);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">if</span> ((n = epoll_wait (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">m_epollSetId</a>, <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a8a8ef0c37cfae78012e5e1556f882405">m_epollSet</a>, <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a204165bcf84e6f76e058a66d6a86430c">g_epollSize</a>, epollTimer)) &lt; 0)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordtype">int</span> err = errno;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                pthread_sigmask (SIG_BLOCK, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>, 0);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">if</span> (err == EINTR)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, 0);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6c96a645a2cf4564e6f644b5ea3c6042">HandleAllSignals</a> (<span class="keyword">this</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adf91ff0c74152a3e07514f5cd1953628">CheckTimeValidity</a> ();</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, 0);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keywordtype">char</span> msg [32];</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                sprintf (msg, <span class="stringliteral">&quot;epoll_wait (%d)&quot;</span>, getpid ());</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                perror (msg);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a02c764f877ebb6a92a24b939bbbdcc75">stat</a> (msg);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                status = -1;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            pthread_sigmask (SIG_BLOCK, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>, 0);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, 0);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adf91ff0c74152a3e07514f5cd1953628">CheckTimeValidity</a> ();</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4921e4ddb6c3fc64aff9ee2c4e953618">HandleDescriptors</a> (n);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, 0);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab5232ad59231b7285fce10fa48df6ab8">m_exitfunc</a> != NULL)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab5232ad59231b7285fce10fa48df6ab8">m_exitfunc</a> (<span class="keyword">this</span>, <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">m_appldata</a>);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    pthread_sigmask (SIG_UNBLOCK, &amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>, 0);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">return</span> status;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a8a8ef0c37cfae78012e5e1556f882405"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a8a8ef0c37cfae78012e5e1556f882405">mpx::MpxRunningContext::m_epollSet</a></div><div class="ttdeci">epoll_event m_epollSet[g_epollSize]</div><div class="ttdoc">EPOLL set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00900">MpxRunningContext.h:900</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab5232ad59231b7285fce10fa48df6ab8"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab5232ad59231b7285fce10fa48df6ab8">mpx::MpxRunningContext::m_exitfunc</a></div><div class="ttdeci">exitfunc m_exitfunc</div><div class="ttdoc">&amp;#39;final state&amp;#39; function </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00903">MpxRunningContext.h:903</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab88e6cca05ac31280d9eb720d57cf344"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">mpx::MpxRunningContext::m_tid</a></div><div class="ttdeci">pid_t m_tid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00898">MpxRunningContext.h:898</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a3dc0d53bfdd5f3d95b86e19254a3a5d6"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a3dc0d53bfdd5f3d95b86e19254a3a5d6">mpx::MpxRunningContext::ActivateDescriptors</a></div><div class="ttdeci">void ActivateDescriptors(void)</div><div class="ttdoc">active file descriptors </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00660">MpxRunningContext.cpp:660</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a38a108f2728a5a3a203174641d5d4c79"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">mpx::MpxRunningContext::m_round</a></div><div class="ttdeci">int m_round</div><div class="ttdoc">round number of current iteration of I/O multiplexer </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00923">MpxRunningContext.h:923</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_adf91ff0c74152a3e07514f5cd1953628"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adf91ff0c74152a3e07514f5cd1953628">mpx::MpxRunningContext::CheckTimeValidity</a></div><div class="ttdeci">void CheckTimeValidity()</div><div class="ttdoc">check validity of time </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00315">MpxRunningContext.cpp:315</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_afb419dfa86637e3b9508ce9f4fc4893b"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">mpx::MpxRunningContext::m_quit</a></div><div class="ttdeci">bool m_quit</div><div class="ttdoc">quit indicator set by Quit() </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00924">MpxRunningContext.h:924</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4b6c086c0c554acb0f073a0957055f42"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">mpx::MpxRunningContext::g_sigset</a></div><div class="ttdeci">static sigset_t g_sigset</div><div class="ttdoc">global signal mask for all I/O multiplexers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00919">MpxRunningContext.h:919</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4921e4ddb6c3fc64aff9ee2c4e953618"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4921e4ddb6c3fc64aff9ee2c4e953618">mpx::MpxRunningContext::HandleDescriptors</a></div><div class="ttdeci">void HandleDescriptors(int count)</div><div class="ttdoc">invoke I/O call-back functions </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00558">MpxRunningContext.cpp:558</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a204165bcf84e6f76e058a66d6a86430c"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a204165bcf84e6f76e058a66d6a86430c">mpx::MpxRunningContext::g_epollSize</a></div><div class="ttdeci">static const int g_epollSize</div><div class="ttdoc">initial size of EPOLL set </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00897">MpxRunningContext.h:897</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4ccfad158e868fbf1f2f2e76014e7ec3"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">mpx::MpxRunningContext::m_nfds</a></div><div class="ttdeci">int m_nfds</div><div class="ttdoc">nr. of active I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00911">MpxRunningContext.h:911</a></div></div>
<div class="ttc" id="MpxRunningContext_8h_html_a175215ab4debacfa1496cb0dd5fb829f"><div class="ttname"><a href="../../d1/d63/MpxRunningContext_8h.html#a175215ab4debacfa1496cb0dd5fb829f">SEC_TO_NSEC</a></div><div class="ttdeci">#define SEC_TO_NSEC</div><div class="ttdoc">number of nanoseconds in one second </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00063">MpxRunningContext.h:63</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a1ee02cb161d9374dd38bb56ccd42ad78"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1ee02cb161d9374dd38bb56ccd42ad78">mpx::MpxRunningContext::m_appldata</a></div><div class="ttdeci">ctx_appdt_t m_appldata</div><div class="ttdoc">application (context specific) data </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00905">MpxRunningContext.h:905</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a6c96a645a2cf4564e6f644b5ea3c6042"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6c96a645a2cf4564e6f644b5ea3c6042">mpx::MpxRunningContext::HandleAllSignals</a></div><div class="ttdeci">static void HandleAllSignals(MpxRunningContext *ctx)</div><div class="ttdoc">handle all signals in sync with application </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00891">MpxRunningContext.cpp:891</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_aa9635fdfe2d2b06681221ccfcfb6f023"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aa9635fdfe2d2b06681221ccfcfb6f023">mpx::MpxRunningContext::m_epollSetId</a></div><div class="ttdeci">int m_epollSetId</div><div class="ttdoc">ID of EPOLL set used by I/O multiplexer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">MpxRunningContext.h:899</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a9ced04c552838f36ff7263ae58bb599e"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a9ced04c552838f36ff7263ae58bb599e">mpx::MpxRunningContext::HandleTimers</a></div><div class="ttdeci">struct timespec * HandleTimers(void)</div><div class="ttdoc">invoke timer call-back functions </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00450">MpxRunningContext.cpp:450</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a68ecafb0e3bbc132c77f79c75a40b1b9"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">mpx::MpxRunningContext::m_realTime</a></div><div class="ttdeci">struct timespec m_realTime</div><div class="ttdoc">real-clock current time </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00908">MpxRunningContext.h:908</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a02c764f877ebb6a92a24b939bbbdcc75"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a02c764f877ebb6a92a24b939bbbdcc75">mpx::MpxRunningContext::stat</a></div><div class="ttdeci">void stat(const char *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00904">MpxRunningContext.cpp:904</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a7d0b01ea6e86566b834c910b4d38ece0"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7d0b01ea6e86566b834c910b4d38ece0">mpx::MpxRunningContext::m_initfunc</a></div><div class="ttdeci">initfunc m_initfunc</div><div class="ttdoc">&amp;#39;initial state&amp;#39; function </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00902">MpxRunningContext.h:902</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a668d975c0a8dd42fdddd90caebbeb413"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a668d975c0a8dd42fdddd90caebbeb413">mpx::MpxRunningContext::m_cpuTime</a></div><div class="ttdeci">struct timespec m_cpuTime</div><div class="ttdoc">CPU time for this process. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00909">MpxRunningContext.h:909</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7518abf4e81aaa5247092428ef260760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::Quit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00797">797</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">m_quit</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_afb419dfa86637e3b9508ce9f4fc4893b"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#afb419dfa86637e3b9508ce9f4fc4893b">mpx::MpxRunningContext::m_quit</a></div><div class="ttdeci">bool m_quit</div><div class="ttdoc">quit indicator set by Quit() </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00924">MpxRunningContext.h:924</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15525c8178bf648b8879bd10116bc93c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec mpx::MpxRunningContext::realTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>real time stamp </p>
<dl class="section return"><dt>Returns</dt><dd>timespec function returns real time stamp of of current iteration of I/O multiplexer. Within this step time does not change. All call-back functions invoked in single step of I/O multiplexer have same real time stamp especially timer call-back functions. Using this function is preferred way to compute real time stamps within call-back functions because it compensates possible time delays caused by very busy iterations </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00865">865</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    {</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">m_realTime</a>;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a68ecafb0e3bbc132c77f79c75a40b1b9"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a68ecafb0e3bbc132c77f79c75a40b1b9">mpx::MpxRunningContext::m_realTime</a></div><div class="ttdeci">struct timespec m_realTime</div><div class="ttdoc">real-clock current time </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00908">MpxRunningContext.h:908</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d405e44a9fe509406a791ae78f27edc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a> mpx::MpxRunningContext::RegisterDescriptor </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a31a2ee430aae6ae753f629045bbc03e7">cbfunc</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td>
          <td class="paramname"><em>appdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>info</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register call-back function for file descriptor </p>
<p>function creates new instance of CDescriptor object associated with given file descriptor and puts it into list of prepared CDescriptor objects. At the beginning of next iteration of I/O multiplexer main loop these objects will be transferred into set of active call-back objects</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>EPOLL flags, either EPOLLIN (requests input, e.g. read()), EPOLLOUT (requests output, e.g. write()) or both </td></tr>
    <tr><td class="paramname">fd</td><td>I/O file descriptor </td></tr>
    <tr><td class="paramname">f</td><td>call-back function </td></tr>
    <tr><td class="paramname">appdata</td><td>general reference to some data provided by user </td></tr>
    <tr><td class="paramname">info</td><td>any text which should be displayed by <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a02c764f877ebb6a92a24b939bbbdcc75">stat()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 cannot register file descriptor </dd>
<dd>
other address of newly created instance of CDescriptor </dd></dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00619">619</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;{</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordflow">if</span> (fd &lt; 0)</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    MpxDescriptor *hdlr = <span class="keyword">new</span> MpxDescriptor (flags, fd, f, appdata, info);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.push_back (hdlr);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span> hdlr;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a5ab6d07c740c5ea50b1f664a66d20218"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">mpx::MpxRunningContext::m_cblist</a></div><div class="ttdeci">cblist m_cblist</div><div class="ttdoc">I/O handlers prepared for next iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00912">MpxRunningContext.h:912</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa6b93ce95ebaa2d66ce75ef4d40aa821"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a> mpx::MpxRunningContext::RegisterSignal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a93d37efc87f8cc0ef845223371a9b73f">sigfunc</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td>
          <td class="paramname"><em>appdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register signal handler </p>
<p>registers signal handler using sigaction paradigm and creates an instance of CSignalContext (signal handler in terms of I/O multiplexer). This instance is then pushed in list of signal handlers registered by all instances of I/O multiplexer. Access to this list must be synchronized since it is shared by all of them</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>signal number </td></tr>
    <tr><td class="paramname">f</td><td>call-back function associated with this signal </td></tr>
    <tr><td class="paramname">appdata</td><td>general reference to application data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 signal handler cannot be created </dd>
<dd>
other generalized reference to an instance of CSignalHandler (signal handler in terms of I/O multiplexer) </dd></dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00805">805</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> ((sig &lt;= 0) || (sig &gt;= _NSIG))</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">sigLock</a> ();</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    MpxSignalContext* hdlr = <span class="keyword">new</span> MpxSignalContext (<span class="keyword">this</span>, sig, f, appdata);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keyword">struct </span>sigaction *sigAction = hdlr-&gt;sigAction ();</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keyword">struct </span>sigaction *oldAction = hdlr-&gt;oldAction ();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    sigAction-&gt;sa_handler = NULL;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    sigAction-&gt;sa_sigaction = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adec6c12473bfb2d9a415280d698643f5">HandleSignal</a>;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    sigAction-&gt;sa_flags = SA_RESTART | SA_SIGINFO;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    sigemptyset (&amp;sigAction-&gt;sa_mask);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    sigaddset (&amp;sigAction-&gt;sa_mask, sig);</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (sigaction (sig, sigAction, oldAction) == -1)</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keyword">delete</span> hdlr;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">sigUnlock</a> ();</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">g_sigActions</a> [sig] = hdlr-&gt;<a class="code" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html#a9e5cac1bc50b4b97c3dcb09c57cedc29">link</a> (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">g_sigActions</a> [sig]);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    sigaddset (&amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">g_sigset</a>, sig);</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">sigUnlock</a> ();</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">return</span> hdlr;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_1_1MpxSignalContext_html_a9e5cac1bc50b4b97c3dcb09c57cedc29"><div class="ttname"><a href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html#a9e5cac1bc50b4b97c3dcb09c57cedc29">mpx::MpxRunningContext::MpxSignalContext::link</a></div><div class="ttdeci">MpxSignalContext * link(MpxSignalContext *sig)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00623">MpxRunningContext.h:623</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4b6c086c0c554acb0f073a0957055f42"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4b6c086c0c554acb0f073a0957055f42">mpx::MpxRunningContext::g_sigset</a></div><div class="ttdeci">static sigset_t g_sigset</div><div class="ttdoc">global signal mask for all I/O multiplexers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00919">MpxRunningContext.h:919</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a6743a2bed27d71d8f158c898d1731247"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">mpx::MpxRunningContext::g_sigActions</a></div><div class="ttdeci">static MpxSignalContext * g_sigActions[_NSIG]</div><div class="ttdoc">global list of signal handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00920">MpxRunningContext.h:920</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a08121c54b044034c9a55f1ed046cb900"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">mpx::MpxRunningContext::sigUnlock</a></div><div class="ttdeci">static void sigUnlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00879">MpxRunningContext.h:879</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a50c3e1d38dc158f1b32188a60a3c38d8"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">mpx::MpxRunningContext::sigLock</a></div><div class="ttdeci">static void sigLock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00874">MpxRunningContext.h:874</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_adec6c12473bfb2d9a415280d698643f5"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#adec6c12473bfb2d9a415280d698643f5">mpx::MpxRunningContext::HandleSignal</a></div><div class="ttdeci">static void HandleSignal(int sig, siginfo_t *info, void *data)</div><div class="ttdoc">OS signal handler for any signal function is sigaction form of signal handler for specified signal...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00868">MpxRunningContext.cpp:868</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af74b4fba0a66c07b58dde9121d43ae8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a> mpx::MpxRunningContext::RegisterTimer </td>
          <td>(</td>
          <td class="paramtype">struct timespec&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a828aa5ae79b025b083fbac771517ecf0">tmrfunc</a>&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a>&#160;</td>
          <td class="paramname"><em>appdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>info</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>register timer </p>
<p>create timer object and put it into list of prepared timers. This timer will be put into the set of active timers at the beginning of the next iteration of I/O multiplexer and invoked in one of next iterations</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>time-stamp of invocation </td></tr>
    <tr><td class="paramname">f</td><td>timer call-back function </td></tr>
    <tr><td class="paramname">appdata</td><td>general reference to application data. It is remembered and used as one of parameters in invocation of timer call-back function </td></tr>
    <tr><td class="paramname">info</td><td>additional information which will be displayed by <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a02c764f877ebb6a92a24b939bbbdcc75">stat()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00536">536</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;{</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a561266838a9809bfd9d6b8b1892723b1">timer</a>.tv_nsec &gt;&gt;= 22;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a561266838a9809bfd9d6b8b1892723b1">timer</a>.tv_nsec &lt;&lt;= 22;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    MpxTimer *tmr = <span class="keyword">new</span> MpxTimer (<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a561266838a9809bfd9d6b8b1892723b1">timer</a>, f, appdata, info);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">m_tmrlist</a>.push_back (tmr);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">ctx_timer_t</a>) tmr;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a13bb7ca294015a06d1f8dd09ed2d8015"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a13bb7ca294015a06d1f8dd09ed2d8015">mpx::MpxRunningContext::m_tmrlist</a></div><div class="ttdeci">tmrlist m_tmrlist</div><div class="ttdoc">timer handlers prepared for next iteration </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00915">MpxRunningContext.h:915</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a561266838a9809bfd9d6b8b1892723b1"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a561266838a9809bfd9d6b8b1892723b1">mpx::MpxRunningContext::timer</a></div><div class="ttdeci">struct timespec timer()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00891">MpxRunningContext.h:891</a></div></div>
<div class="ttc" id="namespacempx_html_a34a8cda0da4a07f815b71fdffe5dd05a"><div class="ttname"><a href="../../d8/d67/namespacempx.html#a34a8cda0da4a07f815b71fdffe5dd05a">mpx::ctx_timer_t</a></div><div class="ttdeci">void * ctx_timer_t</div><div class="ttdoc">general pointer representing timer handler associated with timer call-back function ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00060">MpxRunningContext.h:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af352b88ea000067360907f56d9ac0d9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::RemoveDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove I/O handler </p>
<p>remove I/O handler from set of active handlers. Handler is marked for deletion and its reference will be put into set of prepared file descriptors. At the beginning of the next iteration of I/O multiplexer main loop it will be actually deleted in function <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a3dc0d53bfdd5f3d95b86e19254a3a5d6" title="active file descriptors ">ActivateDescriptors()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>I/O handler reference </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00767">767</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (h == NULL)</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    MpxDescriptor* hdlr = (MpxDescriptor*) h;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">if</span> (hdlr-&gt;deleted ())</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    hdlr-&gt;deleted (<span class="keyword">true</span>);</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordtype">int</span> fd = hdlr-&gt;fd ();</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    pair &lt;cbset::iterator, cbset::iterator&gt; er = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.equal_range (fd);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    cbset::iterator sit;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">for</span> (sit = er.first; (sit != er.second) &amp;&amp; (hdlr != sit-&gt;second); ++sit)</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        ;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (sit != er.second)</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">m_cblist</a>.push_back (hdlr);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab194cff3ac8d757b87c4bc266dfd5032"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">mpx::MpxRunningContext::m_cbset</a></div><div class="ttdeci">cbset m_cbset</div><div class="ttdoc">current I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00913">MpxRunningContext.h:913</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a5ab6d07c740c5ea50b1f664a66d20218"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a5ab6d07c740c5ea50b1f664a66d20218">mpx::MpxRunningContext::m_cblist</a></div><div class="ttdeci">cblist m_cblist</div><div class="ttdoc">I/O handlers prepared for next iteration. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00912">MpxRunningContext.h:912</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a270682ef44f8005b373b4e4910938d3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::RemoveSignal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>hdlr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>remove signal handler from shared list </p>
<p>signal handler (reference to CSignalContext) is removed from shared list of signal handlers. Since it is shared between all instances of I/O multiplexer access to it must be synchronized</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdlr</td><td>signal handler reference </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00843">843</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;{</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordtype">int</span> signo = ((MpxSignalContext*) hdlr)-&gt;signo ();</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordflow">if</span> ((signo &lt;= 0) || (signo &gt;= _NSIG))</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">sigLock</a> ();</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html#abfd27b9f70d8519b5fb237dca2d02613">MpxSignalContext::removeFromList</a> (&amp;(<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">g_sigActions</a> [signo]), (MpxSignalContext*) hdlr);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">sigUnlock</a> ();</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_1_1MpxSignalContext_html_abfd27b9f70d8519b5fb237dca2d02613"><div class="ttname"><a href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html#abfd27b9f70d8519b5fb237dca2d02613">mpx::MpxRunningContext::MpxSignalContext::removeFromList</a></div><div class="ttdeci">static void removeFromList(MpxSignalContext **list, MpxSignalContext *sig)</div><div class="ttdoc">remove signal handler from linked list </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00661">MpxRunningContext.h:661</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a6743a2bed27d71d8f158c898d1731247"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6743a2bed27d71d8f158c898d1731247">mpx::MpxRunningContext::g_sigActions</a></div><div class="ttdeci">static MpxSignalContext * g_sigActions[_NSIG]</div><div class="ttdoc">global list of signal handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00920">MpxRunningContext.h:920</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a08121c54b044034c9a55f1ed046cb900"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a08121c54b044034c9a55f1ed046cb900">mpx::MpxRunningContext::sigUnlock</a></div><div class="ttdeci">static void sigUnlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00879">MpxRunningContext.h:879</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a50c3e1d38dc158f1b32188a60a3c38d8"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a50c3e1d38dc158f1b32188a60a3c38d8">mpx::MpxRunningContext::sigLock</a></div><div class="ttdeci">static void sigLock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00874">MpxRunningContext.h:874</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae2ea192b2e0438fecdfa344b554dffa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::ReplyDescriptor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#af309eb9122875e7362f4fb717aac2cc2">ctx_fddes_t</a>&#160;</td>
          <td class="paramname"><em>hdlr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>invoke I/O handler outside of I/O multiplexer environment </p>
<p>file descriptor call-back functions can be invoked also from the application environment, for example from other call-back functions</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdlr</td><td>I/O handler reference </td></tr>
    <tr><td class="paramname">flags</td><td>EPOLL flags </td></tr>
    <tr><td class="paramname">fd</td><td>file handler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00590">590</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;{</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">if</span> (hdlr == NULL)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    MpxDescriptor* d = (MpxDescriptor*) hdlr;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, 0);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    d-&gt;f () (<span class="keyword">this</span>, flags, d, fd, d-&gt;data ());</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, 0);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d72e385324ce90da927bfc726de5ffc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunningContext::round </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00887">887</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">m_round</a>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_a38a108f2728a5a3a203174641d5d4c79"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a38a108f2728a5a3a203174641d5d4c79">mpx::MpxRunningContext::m_round</a></div><div class="ttdeci">int m_round</div><div class="ttdoc">round number of current iteration of I/O multiplexer </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00923">MpxRunningContext.h:923</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ecf9f83df48da0aa95a96f63601ff15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a>* mpx::MpxRunningContext::sigctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reference to owning I/O multiplexer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CSignalContext* reference to I/O multiplexer owning this handler </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00717">717</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;ctx ();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a00c3bb7c388967381b4d78b19a3dfbb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> mpx::MpxRunningContext::sigdata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>application data of signal handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ctx_appdt_t generalized reference to application data of signal handler </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00750">750</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;data ();</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a0c5f46bb6758a226ebc9942cb90cf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a93d37efc87f8cc0ef845223371a9b73f">sigfunc</a> mpx::MpxRunningContext::sigf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>call-back function of signal handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sigfunc call-back function of signal handler </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00739">739</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;f ();</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac7a151311b7ac341f7d0ad16ac7de163"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a>* mpx::MpxRunningContext::siglink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a> *&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>link signal handler </p>
<p>signal handler is always linked at the beginning of the list of signal handlers</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler list (the first signal handler within it) </td></tr>
    <tr><td class="paramname">sig</td><td>signal handler to be linked</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CSignalContext* reference to signal handler at the beginning of list, actually the reference to handler being linked </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00706">706</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;link (sig);</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50c3e1d38dc158f1b32188a60a3c38d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mpx::MpxRunningContext::sigLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00874">874</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        pthread_setcancelstate (PTHREAD_CANCEL_DISABLE, NULL);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        pthread_mutex_lock (&amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">g_lock</a>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac7431ac124dd0541a795b0479e0cae75"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">mpx::MpxRunningContext::g_lock</a></div><div class="ttdeci">static pthread_mutex_t g_lock</div><div class="ttdoc">signal list synchronization lock </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00918">MpxRunningContext.h:918</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3b50b634dc951aefa1857f4e9ba7d11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxSignalContext</a>* mpx::MpxRunningContext::signext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reference to next signal handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 no handler follows this one </dd>
<dd>
other reference to signal handler following this one </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00689">689</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;next ();</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a67cc6d54eb5347113c104c29ee2792ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct sigaction* mpx::MpxRunningContext::sigoldAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sigaction of previous signal handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sigaction* generalized reference to sigaction structure of previous signal handler </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00772">772</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    {</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;oldAction ();</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27d31d34287bfee5c6c657756c582306"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct sigaction* mpx::MpxRunningContext::sigsigAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sigaction of current signal handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sigaction* generalized reference to sigaction structure of current signal handler </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00761">761</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;sigAction ();</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa072b62a434cb85478cd62feeb66c23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunningContext::sigsigno </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d67/namespacempx.html#abb0251c29fdbbc3f25a580c408327b23">ctx_sig_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>signal number of handler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>generalized reference to signal handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int number of signal handled by this handler </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00728">728</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">return</span> ((MpxSignalContext*) ctx)-&gt;signo ();</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a08121c54b044034c9a55f1ed046cb900"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mpx::MpxRunningContext::sigUnlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00879">879</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    {</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        pthread_mutex_unlock (&amp;<a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">g_lock</a>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        pthread_setcancelstate (PTHREAD_CANCEL_ENABLE, NULL);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac7431ac124dd0541a795b0479e0cae75"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac7431ac124dd0541a795b0479e0cae75">mpx::MpxRunningContext::g_lock</a></div><div class="ttdeci">static pthread_mutex_t g_lock</div><div class="ttdoc">signal list synchronization lock </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00918">MpxRunningContext.h:918</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a02c764f877ebb6a92a24b939bbbdcc75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpx::MpxRunningContext::stat </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html#l00904">904</a> of file <a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;{</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    cbset::iterator it;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keywordtype">int</span> cnt;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordflow">for</span> (cnt = 0, it = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.begin (); it != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">m_cbset</a>.end (); ++it)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        MpxDescriptor* des = it-&gt;second;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>*info = des-&gt;info ();</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        <span class="keywordflow">if</span> (des-&gt;active () &amp;&amp; !des-&gt;deleted ())</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            ++cnt;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;FDES &quot;</span> &lt;&lt; des-&gt;fd () &lt;&lt; <span class="stringliteral">&quot;, FLAGS: &quot;</span> &lt;&lt; des-&gt;flags () &lt;&lt; <span class="stringliteral">&quot;, ACTIVE: &quot;</span> &lt;&lt; des-&gt;active () &lt;&lt; <span class="stringliteral">&quot;, DELETED: &quot;</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            &lt;&lt; des-&gt;deleted () &lt;&lt; <span class="stringliteral">&quot;, INFO: &quot;</span> &lt;&lt; ((info != 0) ? info : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; endl;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    }</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    cout &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;: ICNT = &quot;</span> &lt;&lt; cnt &lt;&lt; endl;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    tmrset::iterator ti;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">for</span> (cnt = 0, ti = <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.begin (); ti != <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">m_tmrset</a>.end (); ++ti)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        MpxTimer *tmr = ti-&gt;second;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <span class="keywordflow">if</span> (tmr-&gt;active ())</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        {</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span>* info = tmr-&gt;info ();</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;            <span class="keywordflow">if</span> (info != 0)</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                cout &lt;&lt; <span class="stringliteral">&quot;TMR &quot;</span> &lt;&lt; info &lt;&lt; endl;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;            ++cnt;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    cout &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;: TCNT = &quot;</span> &lt;&lt; cnt &lt;&lt; endl;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    cout &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot;: NFDS = &quot;</span> &lt;&lt; <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">m_nfds</a> &lt;&lt; endl;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;}</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ac68b30613ace696aa12693fe49a1a33c"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ac68b30613ace696aa12693fe49a1a33c">mpx::MpxRunningContext::m_tmrset</a></div><div class="ttdeci">tmrset m_tmrset</div><div class="ttdoc">current timer handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00916">MpxRunningContext.h:916</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_a4ccfad158e868fbf1f2f2e76014e7ec3"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a4ccfad158e868fbf1f2f2e76014e7ec3">mpx::MpxRunningContext::m_nfds</a></div><div class="ttdeci">int m_nfds</div><div class="ttdoc">nr. of active I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00911">MpxRunningContext.h:911</a></div></div>
<div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab194cff3ac8d757b87c4bc266dfd5032"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab194cff3ac8d757b87c4bc266dfd5032">mpx::MpxRunningContext::m_cbset</a></div><div class="ttdeci">cbset m_cbset</div><div class="ttdoc">current I/O handlers </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00913">MpxRunningContext.h:913</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06aa613bac4bcdbf5466d19992510cb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pid_t mpx::MpxRunningContext::tid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00782">782</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    {</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">m_tid</a>;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_ab88e6cca05ac31280d9eb720d57cf344"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ab88e6cca05ac31280d9eb720d57cf344">mpx::MpxRunningContext::m_tid</a></div><div class="ttdeci">pid_t m_tid</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00898">MpxRunningContext.h:898</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a561266838a9809bfd9d6b8b1892723b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec mpx::MpxRunningContext::timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00891">891</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    {</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">m_timer</a>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    }</div><div class="ttc" id="classmpx_1_1MpxRunningContext_html_abc094a69fda55bc28c60e99631d85a77"><div class="ttname"><a href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#abc094a69fda55bc28c60e99631d85a77">mpx::MpxRunningContext::m_timer</a></div><div class="ttdeci">struct timespec m_timer</div><div class="ttdoc">time stamp for the first expired timer(s) </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d63/MpxRunningContext_8h_source.html#l00907">MpxRunningContext.h:907</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a204165bcf84e6f76e058a66d6a86430c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int mpx::MpxRunningContext::g_epollSize = 1024</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initial size of EPOLL set </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00897">897</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6b8f30cc2132aab62e01e6e158b2d375"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> * mpx::MpxRunningContext::g_initializer = new <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a> (true)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>signal handler initialization object </p>
<p>signals stuff initializer </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00921">921</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac7431ac124dd0541a795b0479e0cae75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t mpx::MpxRunningContext::g_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>signal list synchronization lock </p>
<p>mutex used in signal manipulation routines </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00918">918</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6743a2bed27d71d8f158c898d1731247"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/de7/classmpx_1_1MpxRunningContext_1_1MpxSignalContext.html">MpxRunningContext::MpxSignalContext</a> * mpx::MpxRunningContext::g_sigActions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>global list of signal handlers </p>
<p>signal actions of all signals </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00920">920</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4b6c086c0c554acb0f073a0957055f42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sigset_t mpx::MpxRunningContext::g_sigset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>global signal mask for all I/O multiplexers </p>
<p>signals handled by all instances of <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html" title="I/O multiplexer superclass. ">MpxRunningContext</a> </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00919">919</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1ee02cb161d9374dd38bb56ccd42ad78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d67/namespacempx.html#a405b26d5c58c1ff17c6d641040913a23">ctx_appdt_t</a> mpx::MpxRunningContext::m_appldata</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>application (context specific) data </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00905">905</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5ab6d07c740c5ea50b1f664a66d20218"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#ad84720827a304b93e5ace02797599f1a">cblist</a> mpx::MpxRunningContext::m_cblist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I/O handlers prepared for next iteration. </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00912">912</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab194cff3ac8d757b87c4bc266dfd5032"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a1da97ce0e1c1112db6f30524207fc2b9">cbset</a> mpx::MpxRunningContext::m_cbset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>current I/O handlers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00913">913</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a668d975c0a8dd42fdddd90caebbeb413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec mpx::MpxRunningContext::m_cpuTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CPU time for this process. </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00909">909</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8a8ef0c37cfae78012e5e1556f882405"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">epoll_event mpx::MpxRunningContext::m_epollSet[<a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a204165bcf84e6f76e058a66d6a86430c">g_epollSize</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>EPOLL set. </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00900">900</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa9635fdfe2d2b06681221ccfcfb6f023"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunningContext::m_epollSetId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ID of EPOLL set used by I/O multiplexer. </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00899">899</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab5232ad59231b7285fce10fa48df6ab8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a412ee60de1a8303592d3f0d8a915b5a8">exitfunc</a> mpx::MpxRunningContext::m_exitfunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>'final state' function </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00903">903</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7d0b01ea6e86566b834c910b4d38ece0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#aab0d7c200c138d421825185797a59ead">initfunc</a> mpx::MpxRunningContext::m_initfunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>'initial state' function </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00902">902</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4ccfad158e868fbf1f2f2e76014e7ec3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunningContext::m_nfds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>nr. of active I/O handlers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00911">911</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="afb419dfa86637e3b9508ce9f4fc4893b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mpx::MpxRunningContext::m_quit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>quit indicator set by <a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a7518abf4e81aaa5247092428ef260760">Quit()</a> </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00924">924</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68ecafb0e3bbc132c77f79c75a40b1b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec mpx::MpxRunningContext::m_realTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>real-clock current time </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00908">908</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a38a108f2728a5a3a203174641d5d4c79"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mpx::MpxRunningContext::m_round</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>round number of current iteration of I/O multiplexer </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00923">923</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab88e6cca05ac31280d9eb720d57cf344"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pid_t mpx::MpxRunningContext::m_tid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00898">898</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa1023eba5d126654d530fb26d0811557"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a83db51c5fabe4d14ea70755edf36127e">timehookfunc</a> mpx::MpxRunningContext::m_timehookfunc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>'time hook' function </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00904">904</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="abc094a69fda55bc28c60e99631d85a77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct timespec mpx::MpxRunningContext::m_timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>time stamp for the first expired timer(s) </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00907">907</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="a13bb7ca294015a06d1f8dd09ed2d8015"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a37c44091e704d2f9ef68678b0b3b6f62">tmrlist</a> mpx::MpxRunningContext::m_tmrlist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>timer handlers prepared for next iteration </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00915">915</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac68b30613ace696aa12693fe49a1a33c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html#a6ce14803b9959c4c15f59ac159663c38">tmrset</a> mpx::MpxRunningContext::m_tmrset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>current timer handlers </p>

<p>Definition at line <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html#l00916">916</a> of file <a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d1/d63/MpxRunningContext_8h_source.html">MpxRunningContext.h</a></li>
<li><a class="el" href="../../d8/d7d/MpxRunningContext_8cpp_source.html">MpxRunningContext.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d67/namespacempx.html">mpx</a></li><li class="navelem"><a class="el" href="../../d4/dc1/classmpx_1_1MpxRunningContext.html">MpxRunningContext</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
